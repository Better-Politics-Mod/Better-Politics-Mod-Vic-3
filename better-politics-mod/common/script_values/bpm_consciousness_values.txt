bpm_consciousness_labor_floor = {
	value = 0
	if = {
		limit = {
			has_technology_researched = urbanization
		}
		add = 5
	}
	if = {
		limit = {
			has_technology_researched = dialectics
		}
		add = 5
	}
	if = {
		limit = {
			has_technology_researched = labor_movement
		}
		add = 5
	}
	if = {
		limit = {
			has_technology_researched = organized_sports
		}
		add = 5
	}
	if = {
		limit = {
			has_technology_researched = socialism
		}
		add = 10
	}
	if = {
		limit = {
			has_technology_researched = anarchism
		}
		add = 10
	}

}

bpm_consciousness_labor_ceiling = {
	value = 50
	if = {
		limit = {
			has_global_variable = first_intl_chain_complete_var
		}
		add = 25
	}
	if = {
		limit = {
			has_global_variable = second_intl_chain_complete_var
		}
		add = 25
	}
}

bpm_consciousness_labor_change = {
	value = 0
		# Roughly one hundred point per two hundred levels
	 add = {
	 	value = 0
	 	every_scope_state = {
	 		add = bpm_consciousness_labor_change_manufacturing
	 	}
		divide = 1000
		round_to = 0.01
	 	desc = bpm_consciousness_labor_change_manufacturing_desc
	 }
	add = {
		value = 0
		every_scope_state = {
			add = bpm_consciousness_labor_change_service
		}
		divide = 1000
		round_to = 0.01
		desc = bpm_consciousness_labor_change_service_desc
	}
	add = {
		value = 0
		every_scope_state = {
			add = bpm_consciousness_labor_change_extraction
		}
		divide = 1000
		round_to = 0.01
		desc = bpm_consciousness_labor_change_extraction_desc
	}
	# One hundred points at full urbanization
	add = {
		value = 0
		every_scope_state = {
			add = {
				value = total_urbanization
				divide = 20
				multiply = state_population
				divide = owner.total_population
			}
		}
		divide = 1000
		round_to = 0.01
		desc = bpm_consciousness_labor_change_urbanization_desc
	}
	add = {
		value = 0
		every_scope_character = {
			limit = {
				has_role = agitator
				interest_group = {
					OR = {
						is_interest_group_type = ig_socialists
						is_interest_group_type = ig_trade_unions
						is_interest_group_type = ig_anarchists
						is_interest_group_type = ig_revolutionist_socialists
						is_interest_group_type = ig_reformist_socialists
					}
				}
			}
			add = {
				value = 30
				multiply = popularity
 			} 
		}
		desc = bpm_consciousness_labor_change_agitator_desc
	}
	if = {
		limit = {
			has_law = law_type:law_limited_labor_unions
		}
		add = {
			value = ig:ig_trade_unions.ig_clout
			desc = bpm_consciousness_labor_change_limited_labor_unions_desc
		}
	}
	else_if = {
		limit = {
			has_law = law_type:law_all_labor_unions_allowed
		}
		add = {
			value = ig:ig_trade_unions.ig_clout
			multiply = 0.5
			desc = bpm_consciousness_labor_change_legalized_labor_unions_desc
		}
	}
	add = {
		value = -1
		
		multiply = bpm_loyalist_population_fraction
		multiply = bpm_loyalist_population_fraction
		desc = bpm_consciousness_labor_change_loyalty_multiplier_desc
	}
	add = {
		value = modifier:country_labor_consciousness_change_add
		desc = bpm_consciousness_labor_change_modifier_desc
	}
}

bpm_loyalist_population_fraction = {
	every_scope_pop = {
		add = {
			value = total_size
			multiply = pop_loyalist_fraction
		}
	}
	divide = total_population
}

bpm_consciousness_labor_change_manufacturing = {
	value = 0
	every_scope_building = {
		limit = {
			is_building_group = bg_manufacturing
			level > 0
		}
		add = bpm_consciousness_labor_change_manufacturing_building
	}
}

bpm_consciousness_labor_change_manufacturing_building = {
	value = 1
	multiply = {
		value = private_ownership_fraction
		add = 0.5
	}
}

bpm_consciousness_labor_change_service = {
	value = 0
	every_scope_building = {
		limit = {
			is_building_group = bg_service
			level > 0
		}
		add = bpm_consciousness_labor_change_service_building
	}
}

bpm_consciousness_labor_change_service_building = {
	value = 0.5
}

bpm_consciousness_labor_change_extraction = {
	value = 0
	every_scope_building = {
		limit = {
			is_building_group = bg_extraction
			level > 0
		}
		add = bpm_consciousness_labor_change_extraction_building
	}
}

bpm_consciousness_labor_change_extraction_building = {
	value = 0.75
}