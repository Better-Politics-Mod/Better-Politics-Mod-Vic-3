bpm_dissent_je_revolution_active_weekly = {
	if = {
		limit = {
			NOT = {
				scope:journal_entry= {
					has_variable = revclockc
				}
			}
			
		}
		scope:journal_entry= {
			set_variable = {
				name = revclockc
				value = 0
			}
		}
	}
	trigger_event = {
		id = bpm_crisis_debug_utils.4
		days = 1
	}
	trigger_event = {
		id = bpm_crisis_debug_utils.4
		days = 2
	}
	trigger_event = {
		id = bpm_crisis_debug_utils.4
		days = 3
	}
	trigger_event = {
		id = bpm_crisis_debug_utils.4
		days = 4
	}
	trigger_event = {
		id = bpm_crisis_debug_utils.4
		days = 5
	}
	trigger_event = {
		id = bpm_crisis_debug_utils.4
		days = 6
	}
	trigger_event = {
		id = bpm_crisis_debug_utils.4
		days = 7
	}

	if = {
		limit = {
			scope:journal_entry= {
				var:bpm_revolution_resource_amount > 400
				NAND = {
					var:bpm_left_alone_counter >= 2
					var:bpm_left_alone_counter <= 8
				}			}
		}
		scope:journal_entry= {
			change_variable = {
				name = bpm_revolution_resource_amount
				subtract = 50
			}
			set_variable = {
				name = bpm_left_alone_counter
				value = 0
			}
		}
		random_list = {
			2 = 0
			2 = {
				bpm_auth_add_exhaustion_small = yes
			}
			1 = {
				bpm_auth_add_exhaustion_normal = yes
			}
		}
	}
	scope:journal_entry = {
		change_variable = {
			name = bpm_left_alone_counter
			add = 1
		}
	}
	if = {
		limit = {
			scope:journal_entry.var:bpm_left_alone_counter >= 2
		}
		scope:journal_entry = {
			change_variable = {
				name = bpm_revolution_resource_amount
				add = {
					value = 10
					multiply = var:bpm_left_alone_counter
				}
			}
		}
	}
	scope:journal_entry = {
		clamp_variable = {
			name = bpm_revolution_resource_amount
			min = 0
			max = var:bpm_revolution_resource_amount_max
		}
	}
	if = {
		limit = {
			scope:journal_entry = {
				bpm_resource_percentage >= 0.8
			}
		}
		scope:journal_entry = {
			set_variable = {
				name = bpm_left_alone_counter
				value = 0
			}
		}
	}
}

bpm_dissent_je_revolution_active_immediate = {
	scope:journal_entry= {
		set_variable = {
			name = bpm_left_alone_counter
			value = 0
		}
		save_scope_value_as = {
			name = current_organization_value
			value = var:bpm_current_front_organization
		}
		var:bpm_front_currently_planning = {
			save_scope_as = selected_front_name
		}
		set_variable = {
			name = bpm_revolution_resource_amount
			value = owner.bpm_resource_amount
		}
		set_variable = {
			name = bpm_revolution_resource_amount_max
			value = var:bpm_revolution_resource_amount
		}
	}
}

bpm_dissent_je_revolution_active_on_inactive = {
	scope:journal_entry= {
		remove_variable = bpm_front_currently_planning
		remove_variable = bpm_revolution_resource_amount
		remove_variable = bpm_revolution_resource_amount_max
		remove_variable = bpm_current_front_organization
		remove_variable = bpm_last_delta
		remove_variable = bpm_je_counter
	}
}