namespace = lobby_events

lobby_events.21 = {
	type = country_event
	placement = root

	event_image = {
		video = "ep1_clandestine_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	title = lobby_events.21.t
	desc = lobby_events.21.d
	flavor = lobby_events.21.f

	dlc = dlc010

	duration = 3

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		any_interest_group = {
			is_member_of_any_lobby = no
			bpm_ig_is_patriotic = yes
		}
		any_political_lobby = {
			is_political_lobby_type = lobby_pro_country
			target = {
				any_diplomatically_relevant_country = {
					NOT = { 
						this = root 
					}
					OR = {
						has_diplomatic_pact = {
							who = root
							type = rivalry
						}
						any_scope_state = {
							has_claim_by = root
						}
					}
					OR = {
						has_diplomatic_pact = {
							who = prev
							type = rivalry
						}
						any_scope_state = {
							has_claim_by = prev
						}
					}
				}
			}
		}
	}

	immediate = {
		random_interest_group = {
			limit = {
				is_member_of_any_lobby = no
				bpm_ig_is_patriotic = yes
			}
			save_scope_as = relevant_ig_scope
		}
		random_political_lobby = {
			limit = {
				is_political_lobby_type = lobby_pro_country
				target = {
					any_diplomatically_relevant_country = {
						NOT = { 
							this = root 
						}
						OR = {
							has_diplomatic_pact = {
								who = root
								type = rivalry
							}
							any_scope_state = {
								has_claim_by = root
							}
						}
						OR = {
							has_diplomatic_pact = {
								who = prev
								type = rivalry
							}
							any_scope_state = {
								has_claim_by = prev
							}
						}
					}
				}
			}
			save_scope_as = relevant_lobby_scope
			target = {
				random_diplomatically_relevant_country = {
					limit = {
						NOT = { 
							this = root 
						}
						OR = {
							has_diplomatic_pact = {
								who = root
								type = rivalry
							}
							any_scope_state = {
								has_claim_by = root
							}
						}
						OR = {
							has_diplomatic_pact = {
								who = prev
								type = rivalry
							}
							any_scope_state = {
								has_claim_by = prev
							}
						}
					}
					save_scope_as = lobby_target_scope
				}
				save_scope_as = relevant_country_scope
			}
		}
	}

	option = {
		name = lobby_events.21.a
		default_option = yes
		scope:relevant_lobby_scope = {
			add_lobby_member = scope:relevant_ig_scope
		}
		scope:relevant_lobby_scope = {
			change_appeasement = {
			   amount = 3
			   factor = appeasement_lobby_pleased
			}
		}
		change_relations = {
			country = scope:lobby_target_scope value = -20
		}
	}
	option = {
		name = lobby_events.21.b
		scope:relevant_lobby_scope = {
			add_lobby_member = scope:relevant_ig_scope
		}
	}
	option = {
		name = lobby_events.21.c
		random_list = {
			1 = {
				scope:relevant_lobby_scope = {
					add_lobby_member = scope:relevant_ig_scope
				}
			}
			9 = {
				scope:relevant_ig_scope = {
					add_modifier = {
						name = enemy_of_enemy_ig_modifier
						months = normal_modifier_time
					}
				}		
			}
		}
		scope:relevant_lobby_scope = {
			change_appeasement = {
			   amount = -3
			   factor = appeasement_lobby_displeased
			}
		}
	}
}

lobby_events.26 = {
	type = country_event
	placement = root

	event_image = {
		video = "ep1_octopus"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	title = lobby_events.26.t
	desc = lobby_events.26.d
	flavor = lobby_events.26.f

	dlc = dlc010

	duration = 3

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		any_interest_group = {
			is_member_of_any_lobby = no
			OR = {
				bpm_ig_is_patriotic = yes
				leader = { bpm_leader_is_right_wing = yes }
			}
		}
		any_political_lobby = {
			is_political_lobby_type = lobby_anti_country
			target = {
				any_scope_state = {
					is_homeland_of_country_cultures = root
				}
			}
		}
	}

	immediate = {
		random_interest_group = {
			limit = {
				is_member_of_any_lobby = no
				OR = {
					bpm_ig_is_patriotic = yes
					leader = { bpm_leader_is_right_wing = yes }
				}
			}
			save_scope_as = relevant_ig_scope
		}
		random_political_lobby = {
			limit = {
				is_political_lobby_type = lobby_anti_country
				target = {
					any_scope_state = {
						is_homeland_of_country_cultures = root
					}
				}
			}
			save_scope_as = relevant_lobby_scope
			target = {
				random_scope_state = {
					limit = {
						is_homeland_of_country_cultures = root
					} 
					save_scope_as = relevant_state_scope
				}
				save_scope_as = relevant_country_scope
			}
		}
	}

	option = {
		name = lobby_events.26.a
		default_option = yes
		scope:relevant_lobby_scope = {
			add_lobby_member = scope:relevant_ig_scope
		}
	}
	option = {
		name = lobby_events.26.b
		change_relations = {
			country = scope:relevant_country_scope value = 10
		}
	}
}

lobby_events.27 = { #
	type = country_event
	placement = root

	event_image = {
		video = "ep1_octopus"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	title = lobby_events.27.t
	desc = lobby_events.27.d
	flavor = lobby_events.27.f

	dlc = dlc010

	duration = 3

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		NOT = {
			has_law = law_type:law_council_republic
		}
		any_interest_group = {
			is_member_of_any_lobby = no
			law_stance = {
				law = law_type:law_council_republic
				value < neutral
			}
		}
		any_political_lobby = {
			is_political_lobby_type = lobby_anti_country
			target = {
				has_law = law_type:law_council_republic
			}
		}
	}

	immediate = {
		random_interest_group = {
			limit = {
				is_member_of_any_lobby = no
				law_stance = {
					law = law_type:law_council_republic
					value > neutral
				}
			}
			save_scope_as = relevant_ig_scope
		}
		random_political_lobby = {
			limit = {
				is_political_lobby_type = lobby_anti_country
				target = {
					has_law = law_type:law_council_republic
				}
			}
			save_scope_as = relevant_lobby_scope
			target = {
				save_scope_as = relevant_country_scope
			}
		}
	}

	option = {
		name = lobby_events.27.a
		default_option = yes
		scope:relevant_lobby_scope = {
			add_lobby_member = scope:relevant_ig_scope
		}
		change_relations = {
			country = scope:relevant_country_scope value = -10
		}
	}
	option = {
		name = lobby_events.27.b
		change_relations = {
			country = scope:relevant_country_scope value = 15
		}
	}
}

# Differences Aside
lobby_events.31 = {
	type = country_event
	placement = root
	title = lobby_events.31.t
	desc = lobby_events.31.d
	flavor = lobby_events.31.f

	event_image = {
		video = "ep1_clandestine_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	dlc = dlc010

	duration = 3

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		OR = {
			AND = { # IG with progressive or liberal IG leader joins lobby that has a conservative or reactionary member (bpm makes it just ig ideolgy because we are this cool)
				any_interest_group = {
					is_member_of_any_lobby = no
					bpm_ig_is_left_wing = yes
				}
				any_political_lobby = { # existing member has opposing ideology
					is_political_lobby_type = lobby_pro_country
					target = { has_technology_researched = film }
					any_lobby_member = {
						bpm_ig_is_right_wing = yes
					}
				}
			}
			AND = { # opposite of above
				any_interest_group = {
					is_member_of_any_lobby = no
					bpm_ig_is_right_wing = yes
				}
				any_political_lobby = { # existing member has opposing ideology
					is_political_lobby_type = lobby_pro_country
					target = { has_technology_researched = film }
					any_lobby_member = {
						bpm_ig_is_left_wing = yes
					}
				}
			}
		}
	}

	immediate = {
		if = {
			limit = {
				any_interest_group = {
					is_member_of_any_lobby = no
					bpm_ig_is_left_wing = yes
				}
				any_political_lobby = { # existing member has opposing ideology
					is_political_lobby_type = lobby_pro_country
					target = { has_technology_researched = film }
					any_lobby_member = {
						bpm_ig_is_right_wing = yes
					}
				}
			}
			random_interest_group = {
				limit = {
					is_member_of_any_lobby = no
					bpm_ig_is_left_wing = yes
				}
				save_scope_as = relevant_ig
				leader = {
					save_scope_as = relevant_ig_leader
				}
			}
			random_political_lobby = {
				limit = {
					is_political_lobby_type = lobby_pro_country
					target = { has_technology_researched = film }
					any_lobby_member = {
						bpm_ig_is_right_wing = yes
					}
				}
				random_lobby_member = {
					limit ={
						bpm_ig_is_right_wing = yes
					}
					save_scope_as = relevant_lobby_member
				}
				save_scope_as = relevant_lobby 
				target = {
					save_scope_as = relevant_lobby_country
				}
			}
		}	
		else = {
			limit = {
				any_interest_group = {
					is_member_of_any_lobby = no
					bpm_ig_is_right_wing = yes
				}
				any_political_lobby = { # existing member has opposing ideology
					is_political_lobby_type = lobby_pro_country
					target = { has_technology_researched = film }
					any_lobby_member = {
						bpm_ig_is_left_wing = yes
					}
				}
			}
			random_interest_group = {
				limit = {
					is_member_of_any_lobby = no
					bpm_ig_is_right_wing = yes
				}
				save_scope_as = relevant_ig
				leader = {
					save_scope_as = relevant_ig_leader
				}
			}
			random_political_lobby = {
				limit = {
					is_political_lobby_type = lobby_pro_country
					target = { has_technology_researched = film }
					any_lobby_member = {
						bpm_ig_is_left_wing = yes
					}
				}
				random_lobby_member = {
					limit ={
						bpm_ig_is_left_wing = yes
					}
					save_scope_as = relevant_lobby_member
				}
				save_scope_as = relevant_lobby 
				target = {
					save_scope_as = relevant_lobby_country
				}
			}
		}	
	}

	cancellation_trigger = {
		OR = {
			NOT = { exists = scope:relevant_lobby }
			NOT = { exists = scope:relevant_lobby_country }
		}	
	}

	option = {
		name = lobby_events.31.a
		default_option = yes
		scope:relevant_lobby = {
			add_lobby_member = scope:relevant_ig
			change_appeasement = {
			   amount = 2
			   factor = appeasement_lobby_pleased
			}
		}
		scope:relevant_lobby_member = {
			add_modifier = {
				name = ig_join_pol_str_positive
				months = normal_modifier_time
				is_decaying = yes
			}
		}
	}
	option = {
		name = lobby_events.31.b
		scope:relevant_lobby = {
			add_lobby_member = scope:relevant_ig
		}
		scope:relevant_ig = {
			add_modifier = {
				name = ig_join_pol_str_negative
				months = normal_modifier_time
				is_decaying = yes
			}
		}		
	}
}

# A Shining Example
lobby_events.32 = {
	type = country_event
	placement = root
	title = lobby_events.32.t
	desc = lobby_events.32.d
	flavor = lobby_events.32.f

	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_map.dds"
	
	dlc = dlc010

	duration = 3

	cooldown = { months = normal_modifier_time }
	
	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		any_interest_group = {
			is_member_of_any_lobby = no
			is_marginal = no
			bpm_ig_is_right_wing = yes
			bpm_ig_is_fascist = no
		}
		any_political_lobby = {
			is_political_lobby_type = lobby_pro_country
			target = {
				OR = {
					has_law = law_type:law_charitable_health_system
					has_law = law_type:law_religious_schools
				}
				ruler = {
					interest_group = {
						bpm_ig_is_right_wing = yes
						bpm_ig_is_fascist = no
					}
				}
			}
		}
	}
	
	immediate = {
		random_interest_group = {
			limit = {
				is_member_of_any_lobby = no
				is_marginal = no
				bpm_ig_is_right_wing = yes
				bpm_ig_is_fascist = no
			}
			save_scope_as = relevant_ig
		}
		random_political_lobby = {
			limit = {
				is_political_lobby_type = lobby_pro_country
				target = {
					OR = {
						has_law = law_type:law_charitable_health_system
						has_law = law_type:law_religious_schools
					}
					ruler = {
						interest_group = {
							bpm_ig_is_right_wing = yes
							bpm_ig_is_fascist = no
						}
					}
				}
			}
			save_scope_as = relevant_lobby
			target = {
				save_scope_as = relevant_lobby_country
			}
		}
	}

	cancellation_trigger = {
		OR = {
			NOT = { exists = scope:relevant_lobby }
			NOT = { exists = scope:relevant_lobby_country }
		}	
	}

	option = {
		name = lobby_events.32.a
		default_option = yes
			scope:relevant_lobby = {
				add_lobby_member = scope:relevant_ig
			}
			scope:relevant_ig = {
				add_modifier = {
					name = ig_join_pol_str_positive
					months = normal_modifier_time
					is_decaying = yes
				}
			}
	}
	option = {
		name = lobby_events.32.b
		scope:relevant_lobby = {
			change_appeasement = {
			   amount = -2
			   factor = appeasement_lobby_displeased
			}
		}
		scope:relevant_ig = {
			add_modifier = {
				name = lobby_events_ig_blocked
				months = normal_modifier_time
			}
		}
		add_radicals = {
			pop_type = clergymen
			religion = root.religion
			value = medium_radicals
		}
	}
}

# Less Is More
lobby_events.33 = {
	type = country_event
	placement = root
	title = lobby_events.33.t
	desc = lobby_events.33.d
	flavor = lobby_events.33.f

	event_image = {
		video = "unspecific_politicians_arguing"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	dlc = dlc010

	duration = 3

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		any_political_lobby = {
			OR = {
				is_political_lobby_type = lobby_pro_country
				is_political_lobby_type = lobby_anti_country
			}
			any_lobby_member = {
				is_marginal = no
				count >= 5 # Vanilla has 3, but our lobbies can be bigger
			}
		}
	}

	immediate = {
		random_political_lobby = {
			limit = {
				OR = {
					is_political_lobby_type = lobby_pro_country
					is_political_lobby_type = lobby_anti_country
				}
				any_lobby_member = {
					is_marginal = no
					count >= 5 # Vanilla has 3, but our lobbies can be bigger
				}
			}
			save_scope_as = relevant_lobby
			random_lobby_member = {
				limit = {
					is_marginal = no
				}
				save_scope_as = relevant_ig
			}
			random_lobby_member = { # another ig in the same lobby
				limit = {
					is_marginal = no
					NOT = { this = scope:relevant_ig }	
				}
				save_scope_as = other_ig
			}
		}
	}

	cancellation_trigger = {
		OR = {
			NOT = { exists = scope:relevant_lobby }
			NOT = { exists = scope:relevant_lobby_country }
		}	
	}

	option = {
		name = lobby_events.33.a
		default_option = yes
		scope:relevant_lobby = {
			remove_lobby_member = scope:relevant_ig
		}
		scope:other_ig = {
			add_modifier = {
				name = ig_join_pol_str_positive
				months = normal_modifier_time
				is_decaying = yes
			}
		}
	}
	option = { # appears if relevant_ig is not in government
		name = lobby_events.33.b
		trigger = {
			scope:relevant_ig = {
				is_in_government = no
			}
		}
		scope:relevant_ig = {
			add_modifier = {
				name = lobby_events_ig_blocked 
				months = short_modifier_time
			}
		}
	}
	option = { # appears if relevant_ig is in government
		name = lobby_events.33.c
		trigger = {
			scope:relevant_ig = {
				is_in_government = yes
			}
		}
		scope:relevant_ig = {
			add_modifier = {
				name = lobby_events_ig_blocked 
				months = normal_modifier_time
			}
		}
		add_radicals = {
			value = medium_radicals
			interest_group = scope:relevant_ig
		}
	}
}

# Laudable Legislation
lobby_events.34 = {
	type = country_event
	placement = root
	title = lobby_events.34.t
	desc = lobby_events.34.d
	flavor = lobby_events.34.f

	event_image = {
		video = "unspecific_world_fair"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	dlc = dlc010

	duration = 3

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		has_law = law_type:law_slavery_banned
		any_political_lobby = {
			is_political_lobby_type = lobby_anti_country
			any_lobby_member = {
				is_marginal = no
				bpm_ig_is_left_wing = yes
			}
			target = {
					has_law = law_type:law_slavery_banned
					OR = {
						has_law = law_type:law_protected_speech
						has_law = law_type:law_womens_suffrage
						has_law = law_type:law_guaranteed_liberties
						# Good laws from BPM
						has_law = law_type:law_protected_lesure
					}
					ruler = {
						interest_group = {
							bpm_ig_is_left_wing = yes
						}
					}
			}
		}
	}

	immediate = {
		random_political_lobby = {
			limit = {
				is_political_lobby_type = lobby_anti_country
				target = {
					has_law = law_type:law_slavery_banned
					OR = {
						has_law = law_type:law_protected_speech
						has_law = law_type:law_womens_suffrage
						has_law = law_type:law_guaranteed_liberties
						# Good laws from BPM
						has_law = law_type:law_protected_lesure
					}
					ruler = {
						interest_group = {
							bpm_ig_is_left_wing = yes
						}
					}
				}
			}
			save_scope_as = relevant_lobby
			target = {
				save_scope_as = relevant_lobby_country
			}
		}
		scope:relevant_lobby = {	
			random_lobby_member = {
				limit = {
					is_marginal = no
					bpm_ig_is_left_wing = yes
				}
				save_scope_as = relevant_ig
			}
		}
	}

	cancellation_trigger = {
		OR = {
			NOT = { exists = scope:relevant_lobby }
			NOT = { exists = scope:relevant_lobby_country }
		}	
	}

	option = {
		name = lobby_events.34.a
		default_option = yes
		scope:relevant_lobby = {
			remove_lobby_member = scope:relevant_ig
		}
	}
	option = {
		name = lobby_events.34.b
		add_radicals = {
			value = medium_radicals
			interest_group = scope:relevant_ig
		}
	}
}

# Unfavorable Opinion
lobby_events.35 = {
	type = country_event
	placement = root
	title = lobby_events.35.t
	desc = lobby_events.35.d
	flavor = lobby_events.35.f

	event_image = {
		video = "ep1_printing_press"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_default.dds"

	dlc = dlc010

	duration = 3

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		any_interest_group = {
			is_member_of_any_lobby = no
			bpm_ig_is_right_wing = yes
		}
		any_political_lobby = {
			is_political_lobby_type = lobby_anti_country
			target = { # law_slavery_banned AND one from the list
				has_law = law_type:law_slavery_banned
				OR = { # one of five laws that are progressiveness = 100
					has_law = law_type:law_womens_suffrage
					has_law = law_type:law_cooperative_ownership
					has_law = law_type:law_command_economy
					has_law = law_type:law_protected_speech
					has_law = law_type:law_guaranteed_liberties
				}
				ruler = {
					interest_group = {
						bpm_ig_is_left_wing = yes
					}
				}
			}
		}
	}

	immediate = {
		random_interest_group = {
			limit = {
				is_member_of_any_lobby = no
				bpm_ig_is_right_wing = yes
			}
			save_scope_as = relevant_ig
		}
		random_political_lobby = {
			limit = {
				is_political_lobby_type = lobby_anti_country
				target = {
					# law_slavery_banned AND one from the list
					has_law = law_type:law_slavery_banned 
					OR = { # one of five laws that are progressiveness = 100
						has_law = law_type:law_womens_suffrage
						has_law = law_type:law_cooperative_ownership
						has_law = law_type:law_command_economy
						has_law = law_type:law_protected_speech
						has_law = law_type:law_guaranteed_liberties
					}
					ruler = {
						interest_group = {
							bpm_ig_is_left_wing = yes
						}
					}
				}
			}
			save_scope_as = relevant_lobby
			target = {
				save_scope_as = relevant_lobby_country
				ruler.interest_group = {
					save_scope_as = relevant_ruler_ig
				}
			}
		}
	}

	cancellation_trigger = {
		OR = {
			NOT = { exists = scope:relevant_lobby }
			NOT = { exists = scope:relevant_lobby_country }
		}	
	}

	option = {
		name = lobby_events.35.a
		default_option = yes
		scope:relevant_lobby = {
			add_lobby_member = scope:relevant_ig
			change_appeasement = {
			   amount = 2
			   factor = appeasement_lobby_pleased
			}
		}
		scope:relevant_ig = {
			add_modifier = {
				name = ig_join_pol_str_positive
				months = short_modifier_time
				is_decaying = yes
			}
		}
	}
	option = {
		name = lobby_events.35.b
		add_radicals = {
			value = small_radicals
			interest_group = scope:relevant_ig
		}
	}
}

# These lobby overrides are in the order in which they appear, starting from file 01, to 03 and then 04
# Yes file 02 is missing
# Lobby_events.1 is in the file 4 for lobbies in vanilla
# Sometimes things are very mysterious

lobby_events.1 = {
	type = country_event
	placement = root

	dlc = dlc010

	duration = 3

	title = lobby_events.1.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = lobby_events.1.d_join
				trigger = {
					exists = scope:relevant_lobby
				}
			}
			triggered_desc = {
				desc = lobby_events.1.d_form
				trigger = {
					NOT = {
						exists = scope:relevant_lobby
					}
				}
			}
		}
	}
	flavor = lobby_events.1.f

	event_image = {
		video = "africa_leader_arguing"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		NOT = {
			has_law = law_type:law_council_republic
		}

		any_interest_group = {
			bpm_ig_is_moderate_socialist = yes
			is_member_of_any_lobby = no
			is_marginal = no
		}

		OR = {
			any_diplomatically_relevant_country = {
				is_valid_lobby_target = yes
				has_law = law_type:law_council_republic
			}

			any_political_lobby = {
				is_political_lobby_type = lobby_anti_country
				target = {
					has_law = law_type:law_council_republic
				}
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				any_political_lobby = {
					is_political_lobby_type = lobby_anti_country
					target = {
						has_law = law_type:law_council_republic
					}
				}
			}
			random_political_lobby = {
				limit = {
					is_political_lobby_type = lobby_anti_country
					target = {
						has_law = law_type:law_council_republic
					}
				}
				target = {
					save_scope_as = relevant_country
				}
				save_scope_as = relevant_lobby
			}
		}
		else = {
			random_diplomatically_relevant_country = {
				limit = {
					has_law = law_type:law_council_republic
					is_valid_lobby_target = yes
				}
				save_scope_as = relevant_country
			}
		}
		ordered_interest_group = {
			limit = {
				bpm_ig_is_moderate_socialist = yes
				is_marginal = no
				is_member_of_any_lobby = no
			}
			order_by = ig_clout
			save_scope_as = relevant_ig
		}
	}
	
	option = {
		name = lobby_events.1.a 
		default_option = yes
		trigger = {
			exists = scope:relevant_lobby
		}
		scope:relevant_lobby ?= {
			add_lobby_member = scope:relevant_ig 
		}
	}

	option = {
		name = lobby_events.1.b
		default_option = yes
		trigger = {
			NOT = {
				exists = scope:relevant_lobby
			}
		}
		create_political_lobby = {  
			type = lobby_anti_country  
			target = scope:relevant_country
			add_interest_group = scope:relevant_ig
			lobby_formation_reason = ideology
		}
	}
	
	option = {
		name = lobby_events.1.c
		scope:relevant_ig = {
			add_modifier = {
				name = modifier_lobby_attempt_failed
				months = normal_modifier_time
				is_decaying = yes
			}
		}
	}
}

lobby_events.2 = {
	type = country_event
	placement = root

	dlc = dlc010

	duration = 3

	title = lobby_events.2.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = lobby_events.2.d_join
				trigger = {
					exists = scope:relevant_lobby
				}
			}
			triggered_desc = {
				desc = lobby_events.2.d_form
				trigger = {
					NOT = {
						exists = scope:relevant_lobby
					}
				}
			}
		}
	}
	flavor = lobby_events.2.f

	event_image = {
		trigger = {
			country_has_state_religion = rel:jewish
		}
		video = "europenorthamerica_judaism"

		on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	}
	event_image = {
		trigger = {
			OR = {
				country_has_state_religion = rel:protestant
				country_has_state_religion = rel:catholic
				country_has_state_religion = rel:orthodox
				country_has_state_religion = rel:oriental_orthodox
			}
		}
		video = "southamerica_christianity"

		on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	}
	event_image = {
		trigger = {
			OR = {
				country_has_state_religion = rel:hindu
				country_has_state_religion = rel:sikh
			}
		}
		video = "asia_hinduism_sikhism"

		on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	}
	event_image = {
		trigger = {
			OR = {
				country_has_state_religion = rel:shinto
				country_has_state_religion = rel:confucian
			}
		}
		video = "asia_confucianism_shinto"

		on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	}
	event_image = {
		trigger = {
			OR = {
				country_has_state_religion = rel:mahayana
				country_has_state_religion = rel:gelugpa
				country_has_state_religion = rel:theravada
			}
		}
		video = "asia_buddhism"

		on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	}
	event_image = {
		trigger = {
			OR = {
				country_has_state_religion = rel:sunni
				country_has_state_religion = rel:shiite
			}
		}
		video = "middleeast_islam"

		on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	}
	event_image = {
		trigger = {
			NOR = {
				country_has_state_religion = rel:jewish
				country_has_state_religion = rel:protestant
				country_has_state_religion = rel:catholic
				country_has_state_religion = rel:orthodox
				country_has_state_religion = rel:oriental_orthodox
				country_has_state_religion = rel:mahayana
				country_has_state_religion = rel:gelugpa
				country_has_state_religion = rel:theravada
				country_has_state_religion = rel:shinto
				country_has_state_religion = rel:hindu
				country_has_state_religion = rel:sikh
				country_has_state_religion = rel:sunni
				country_has_state_religion = rel:shiite
			}
		}
		video = "africa_animism"
	
		on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		any_interest_group = {
			is_marginal = no
			is_member_of_any_lobby = no
			OR = {
				bpm_ig_is_religious = yes
				leader = {
					OR = {
						has_ideology = ideology:ideology_theocrat
						has_trait = pious
					}
				}
			}
		}
		OR = {
			any_political_lobby = {
				is_political_lobby_type = lobby_anti_country
				target = {
					discriminates_religion = ROOT.religion
				}

				custom_tooltip = {
					text = religion_is_discriminated_tt
				}
			}
			any_diplomatically_relevant_country = {
				is_valid_lobby_target = yes
				discriminates_religion = ROOT.religion
				custom_tooltip = {
					text = religion_is_discriminated_tt
				}
			}
		}
	}
	
	immediate = {
		religion = {
			save_scope_as = relevant_religion
		}
		if = {
			limit = {
				any_political_lobby = {
					is_political_lobby_type = lobby_anti_country
					target = {
						discriminates_religion = ROOT.religion
					}
				}
			}
			random_political_lobby = {
				limit = {
					is_political_lobby_type = lobby_anti_country
					target = {
						discriminates_religion = ROOT.religion
					}
				}
				target = {
					save_scope_as = relevant_country
				}
				save_scope_as = relevant_lobby
			}
		}
		else = {
			random_diplomatically_relevant_country = {
				limit = {
					is_valid_lobby_target = yes
					discriminates_religion = ROOT.religion
				}
				save_scope_as = relevant_country
			}
		}
		ordered_interest_group = {
			limit = {
				is_marginal = no
				is_member_of_any_lobby = no
				OR = {
					bpm_ig_is_religious = yes
					leader = {
						OR = {
							has_ideology = ideology:ideology_theocrat
							has_trait = pious
						}
					}
				}
			}
			order_by = ig_clout
			save_scope_as = relevant_ig
		}
	}
	
	option = {
		name = lobby_events.2.a 
		default_option = yes
		trigger = {
			exists = scope:relevant_lobby
		}
		scope:relevant_lobby ?= {
			add_lobby_member = scope:relevant_ig 
		}
	}

	option = {
		name = lobby_events.2.b
		default_option = yes
		trigger = {
			NOT = {
				exists = scope:relevant_lobby
			}
		}
		create_political_lobby = {  
			type = lobby_anti_country  
			target = scope:relevant_country
			add_interest_group = scope:relevant_ig
			lobby_formation_reason = religion
		}
	}

	option = {
		name = lobby_events.2.c
		add_radicals = {
			value = small_radicals
			religion = scope:relevant_religion
		}
	}
}

lobby_events.5 = {
	type = country_event
	placement = root

	dlc = dlc010

	duration = 3

	title = lobby_events.5.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = lobby_events.5.d_join
				trigger = {
					exists = scope:relevant_lobby
				}
			}
			triggered_desc = {
				desc = lobby_events.5.d_form
				trigger = {
					NOT = {
						exists = scope:relevant_lobby
					}
				}
			}
		}
	}
	flavor = lobby_events.5.f

	event_image = {
		video = "ep1_central_asian_city"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		any_interest_group = {
			OR = {
				bpm_ig_is_upper_institutional = yes 
				bpm_ig_is_market_liberal = yes
			}
			is_member_of_any_lobby = no
			is_marginal = no
		}
		OR = {
			any_trade_route = {
				is_trade_route_productive = yes
				level >= 20
				exporter.owner = root
				importer.owner = {
					relations:root >= relations_threshold:poor
					is_valid_lobby_target = yes
				}
			}
			any_political_lobby = {
				is_political_lobby_type = lobby_pro_country
				target = {
					relations:root >= relations_threshold:poor
					market = {
						NOT = { owner = root }
						any_trade_route = {
							is_trade_route_productive = yes
							exporter.owner = root
							level >= 20
						}
					}
				}
			}
		}
	}
	
	immediate = {
		random_interest_group = {
			limit = {
				OR = {
					bpm_ig_is_upper_institutional = yes 
					bpm_ig_is_market_liberal = yes
				}
				is_member_of_any_lobby = no
				is_marginal = no
			}
			save_scope_as = relevant_ig
		}
		if = {
			limit = {
				any_political_lobby = {
					is_political_lobby_type = lobby_pro_country
					target = {
						relations:root >= relations_threshold:poor
						market_capital.market = {
							NOT = { owner = root }
							any_trade_route = {
								is_trade_route_productive = yes
								exporter.owner = root
								level >= 20
							}
						}
					}
				}
			}
			random_political_lobby = {
				limit = {
					is_political_lobby_type = lobby_pro_country
					target = {
						relations:root >= relations_threshold:poor
						market_capital.market = {
							NOT = { owner = root }
							any_trade_route = {
								is_trade_route_productive = yes
								exporter.owner = root
								level >= 20
							}
						}
					}
				}
				target = {
					save_scope_as = relevant_country
					market_capital.market = {
						random_trade_route = {
							limit = {
								is_trade_route_productive = yes
								exporter.owner = root
								level >= 20
							}
							goods = {
								save_scope_as = relevant_goods
							}
						}
					}
				}
				save_scope_as = relevant_lobby
			}
		}
		else = {
			random_market = {
				limit = {
					NOT = { owner = root }
					any_trade_route = {
						is_trade_route_productive = yes
						exporter.owner = root
						level >= 20
					}
					owner = {
						relations:root >= relations_threshold:poor
						is_valid_lobby_target = yes
					}
				}
				owner = {
					save_scope_as = relevant_country
				}
				random_trade_route = {
					limit = {
						is_trade_route_productive = yes
						exporter.owner = root
						level >= 20
					}
					goods = {
						save_scope_as = relevant_goods
					}
				}
			}
		}
	}
	
	option = {
		name = lobby_events.5.a 
		default_option = yes
		trigger = {
			exists = scope:relevant_lobby
		}
		scope:relevant_lobby ?= {
			add_lobby_member = scope:relevant_ig 
		}
	}

	option = {
		name = lobby_events.5.b
		default_option = yes
		trigger = {
			NOT = {
				exists = scope:relevant_lobby
			}
		}
		create_political_lobby = {  
			type = lobby_pro_country  
			target = scope:relevant_country
			add_interest_group = scope:relevant_ig
			lobby_formation_reason = economy
		}
	}

	option = {
		name = lobby_events.5.c
		scope:relevant_ig = {
			add_modifier = {
				name = modifier_lobby_attempt_failed
				months = normal_modifier_time
				is_decaying = yes
			}
		}
	}
}

lobby_events.9 = {
	type = country_event
	placement = root

	dlc = dlc010

	duration = 3

	title = lobby_events.9.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = lobby_events.9.d_join
				trigger = {
					exists = scope:relevant_lobby
				}
			}
			triggered_desc = {
				desc = lobby_events.9.d_form
				trigger = {
					NOT = {
						exists = scope:relevant_lobby
					}
				}
			}
		}
	}
	flavor = lobby_events.9.f

	event_image = {
		video = "ep1_octopus"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		any_interest_group = {
			OR = {
				bpm_ig_is_patriotic = yes
				leader = {
					OR = {
						has_role = general
						has_role = admiral 
						has_ideology = ideology:ideology_jingoist_leader
					}
				}
			}
			is_member_of_any_lobby = no
			is_marginal = no
		}
		OR = {
			any_political_lobby = {
				is_political_lobby_type = lobby_pro_country
				target = {
					relations:root >= relations_threshold:poor
					OR = {
						AND = {
							has_technology_researched = automatic_machine_guns
							ROOT = {
								NOT = {
									has_technology_researched = automatic_machine_guns
								}
							}
						}
						AND = {
							has_technology_researched = breech_loading_artillery
							ROOT = {
								NOT = {
									has_technology_researched = breech_loading_artillery
								}
							}
						}
						AND = {
							has_technology_researched = ironclad_tech
							ROOT = {
								NOT = {
									has_technology_researched = ironclad_tech
								}
							}
						}
						AND = {
							has_technology_researched = mobile_armor
							ROOT = {
								NOT = {
									has_technology_researched = mobile_armor
								}
							}
						}
					}
				}
			}
			any_diplomatically_relevant_country = {
				relations:root >= relations_threshold:poor
				is_valid_lobby_target = yes
				OR = {
					AND = {
						has_technology_researched = automatic_machine_guns
						ROOT = {
							NOT = {
								has_technology_researched = automatic_machine_guns
							}
						}
					}
					AND = {
						has_technology_researched = breech_loading_artillery
						ROOT = {
							NOT = {
								has_technology_researched = breech_loading_artillery
							}
						}
					}
					AND = {
						has_technology_researched = ironclad_tech
						ROOT = {
							NOT = {
								has_technology_researched = ironclad_tech
							}
						}
					}
					AND = {
						has_technology_researched = mobile_armor
						ROOT = {
							NOT = {
								has_technology_researched = mobile_armor
							}
						}
					}
				}
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				any_political_lobby = {
					is_political_lobby_type = lobby_pro_country
					target = {
						relations:root >= relations_threshold:poor
						OR = {
							AND = {
								has_technology_researched = automatic_machine_guns
								ROOT = {
									NOT = {
										has_technology_researched = automatic_machine_guns
									}
								}
							}
							AND = {
								has_technology_researched = breech_loading_artillery
								ROOT = {
									NOT = {
										has_technology_researched = breech_loading_artillery
									}
								}
							}
							AND = {
								has_technology_researched = ironclad_tech
								ROOT = {
									NOT = {
										has_technology_researched = ironclad_tech
									}
								}
							}
							AND = {
								has_technology_researched = mobile_armor
								ROOT = {
									NOT = {
										has_technology_researched = mobile_armor
									}
								}
							}
						}
					}
				}
			}
			random_political_lobby = {
				limit = {
					is_political_lobby_type = lobby_pro_country
					target = {
						relations:root >= relations_threshold:poor
						OR = {
							AND = {
								has_technology_researched = automatic_machine_guns
								ROOT = {
									NOT = {
										has_technology_researched = automatic_machine_guns
									}
								}
							}
							AND = {
								has_technology_researched = breech_loading_artillery
								ROOT = {
									NOT = {
										has_technology_researched = breech_loading_artillery
									}
								}
							}
							AND = {
								has_technology_researched = ironclad_tech
								ROOT = {
									NOT = {
										has_technology_researched = ironclad_tech
									}
								}
							}
							AND = {
								has_technology_researched = mobile_armor
								ROOT = {
									NOT = {
										has_technology_researched = mobile_armor
									}
								}
							}
						}
					}
				}
				target = {
					save_scope_as = relevant_country
				}
				save_scope_as = relevant_lobby
			}
		}
		else = {
			random_diplomatically_relevant_country = {
				limit = {
					relations:root >= relations_threshold:poor
					is_valid_lobby_target = yes
					OR = {
						AND = {
							has_technology_researched = automatic_machine_guns
							ROOT = {
								NOT = {
									has_technology_researched = automatic_machine_guns
								}
							}
						}
						AND = {
							has_technology_researched = breech_loading_artillery
							ROOT = {
								NOT = {
									has_technology_researched = breech_loading_artillery
								}
							}
						}
						AND = {
							has_technology_researched = ironclad_tech
							ROOT = {
								NOT = {
									has_technology_researched = ironclad_tech
								}
							}
						}
						AND = {
							has_technology_researched = mobile_armor
							ROOT = {
								NOT = {
									has_technology_researched = mobile_armor
								}
							}
						}
					}
				}
				save_scope_as = relevant_country
			}
		}
		ordered_interest_group = {
			limit = {
				OR = {
					bpm_ig_is_patriotic = yes
					leader = {
						OR = {
							has_role = general
							has_role = admiral 
							has_ideology = ideology:ideology_jingoist_leader
						}
					}
				}
				is_member_of_any_lobby = no
				is_marginal = no
			}
			order_by = ig_clout
			save_scope_as = relevant_ig
		}
		if = {
			limit = {
				scope:relevant_country ?= {
					has_technology_researched = mobile_armor
				}
				ROOT = {
					NOT = {
						has_technology_researched = mobile_armor
					}
				}
			}
			set_variable = { name = impressive_miltech value = 1 }
		}
		else_if = {
			limit = {
				scope:relevant_country ?= {
					has_technology_researched = automatic_machine_guns
				}
				ROOT = {
					NOT = {
						has_technology_researched = automatic_machine_guns
					}
				}
			}
			set_variable = { name = impressive_miltech value = 2 }
		}
		else_if = {
			limit = {
				scope:relevant_country ?= {
					has_technology_researched = breech_loading_artillery
				}
				ROOT = {
					NOT = {
						has_technology_researched = breech_loading_artillery
					}
				}
			}
			set_variable = { name = impressive_miltech value = 3 }
		}
		else_if = {
			limit = {
				scope:relevant_country ?= {
					has_technology_researched = ironclad_tech
				}
				ROOT = {
					NOT = {
						has_technology_researched = ironclad_tech
					}
				}
			}
			set_variable = { name = impressive_miltech value = 4 }
		}
	}
	
	option = {
		name = lobby_events.9.a 
		default_option = yes
		trigger = {
			exists = scope:relevant_lobby
		}
		scope:relevant_lobby ?= {
			add_lobby_member = scope:relevant_ig 
		}
		remove_variable = impressive_miltech
	}

	option = {
		name = lobby_events.9.b
		default_option = yes
		trigger = {
			NOT = {
				exists = scope:relevant_lobby
			}
		}
		create_political_lobby = {  
			type = lobby_pro_country  
			target = scope:relevant_country 
			add_interest_group = scope:relevant_ig
			lobby_formation_reason = technology
		}
		remove_variable = impressive_miltech
	}

	option = {
		name = lobby_events.9.c
		remove_variable = impressive_miltech
		scope:relevant_ig = {
			add_modifier = {
				name = modifier_rejected_military_support
				months = normal_modifier_time
				is_decaying = yes
			}
		}
	}
}

lobby_events.10 = {
	type = country_event
	placement = root

	dlc = dlc010

	duration = 3

	title = lobby_events.10.t
	desc = lobby_events.10.d
	flavor = lobby_events.10.f

	event_image = {
		video = "unspecific_world_fair"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		is_country_type = unrecognized
		any_interest_group = {
			is_member_of_any_lobby = no
			is_marginal = no
			bpm_ig_is_left_wing = yes
		}
		OR = {
			any_political_lobby = {
				is_political_lobby_type = lobby_pro_country
				target = {
					OR = {
						is_country_type = recognized
						is_country_type = colonial
					}

					relations:root >= relations_threshold:poor
					THIS.techs_researched >= ROOT.techs_researched
					has_technology_researched = railways
				}
			}
			any_diplomatically_relevant_country = {
				OR = {
					is_country_type = recognized
					is_country_type = colonial
				}

				THIS.techs_researched >= ROOT.techs_researched
				is_valid_lobby_target = yes
				relations:root >= relations_threshold:poor
				has_technology_researched = railways
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				any_political_lobby = {
					is_political_lobby_type = lobby_pro_country
					target = {
						OR = {
							is_country_type = recognized
							is_country_type = colonial
						}

						THIS.techs_researched >= ROOT.techs_researched
						relations:root >= relations_threshold:poor
						has_technology_researched = railways
					}
				}
			}
			random_political_lobby = {
				limit = {
					is_political_lobby_type = lobby_pro_country
					target = {
						OR = {
							is_country_type = recognized
							is_country_type = colonial
						}

						THIS.techs_researched >= ROOT.techs_researched
						relations:root >= relations_threshold:poor
						has_technology_researched = railways
					}
				}
				target = {
					save_scope_as = relevant_country
				}
				save_scope_as = relevant_lobby
			}
		}
		else = {
			random_diplomatically_relevant_country = {
				limit = {
					OR = {
						is_country_type = recognized
						is_country_type = colonial
					}

					THIS.techs_researched >= ROOT.techs_researched
					is_valid_lobby_target = yes
					relations:root >= relations_threshold:poor
					has_technology_researched = railways
				}
				save_scope_as = relevant_country
			}
		}
		ordered_interest_group = {
			limit = {
				bpm_ig_is_left_wing = yes
				is_member_of_any_lobby = no
				is_marginal = no
			}
			order_by = ig_clout
			save_scope_as = relevant_ig
		}
	}
	
	option = {
		name = lobby_events.10.a 
		default_option = yes
		trigger = {
			exists = scope:relevant_lobby
		}
		scope:relevant_lobby ?= {
			add_lobby_member = scope:relevant_ig 
		}
		add_modifier = {
			name = modifier_closer_western_ties
			months = normal_modifier_time
		}
	}
	
	option = {
		name = lobby_events.10.b 
		default_option = yes
		trigger = {
			NOT = {
				exists = scope:relevant_lobby
			}
		}
		create_political_lobby = {  
			type = lobby_pro_country  
			target = scope:relevant_country 
			add_interest_group = scope:relevant_ig
			lobby_formation_reason = technology
		}
		add_modifier = {
			name = modifier_closer_western_ties
			months = normal_modifier_time
		}
	}

	option = {
		name = lobby_events.10.c
		scope:relevant_ig = {
			add_modifier = {
				name = modifier_rejected_western_ties
				months = normal_modifier_time
				is_decaying = yes
			}
		}
	}
}

lobby_events.12 = {
	type = country_event
	placement = root

	dlc = dlc010

	duration = 3

	title = lobby_events.12.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = lobby_events.12.d_join
				trigger = {
					exists = scope:relevant_lobby
				}
			}
			triggered_desc = {
				desc = lobby_events.12.d_form
				trigger = {
					NOT = {
						exists = scope:relevant_lobby
					}
				}
			}
		}
	}
	flavor = lobby_events.12.f

	event_image = {
		video = "europenorthamerica_art_gallery"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		any_interest_group = {
			OR = {
				bpm_ig_is_left_wing = yes
				bpm_ig_is_urban_institutional = yes
			}
			is_member_of_any_lobby = no
			is_marginal = no
		}
		OR = {
			any_political_lobby = {
				is_political_lobby_type = lobby_pro_country
				target = {
					OR = {
						AND = {
							has_technology_researched = romanticism
							ROOT = {
								NOT = {
									has_technology_researched = realism
								}
							}
						}
						AND = {
							has_technology_researched = realism
							ROOT = {
								NOT = {
									has_technology_researched = camera
								}
							}
						}
						AND = {
							has_technology_researched = camera
							ROOT = {
								NOT = {
									has_technology_researched = film
								}
							}
						}
						has_technology_researched = film
					}
					relations:root >= relations_threshold:poor
				}
			}
			any_diplomatically_relevant_country = {
				is_valid_lobby_target = yes
				OR = {
					AND = {
						has_technology_researched = romanticism
						ROOT = {
							NOT = {
								has_technology_researched = realism
							}
						}
					}
					AND = {
						has_technology_researched = realism
						ROOT = {
							NOT = {
								has_technology_researched = camera
							}
						}
					}
					AND = {
						has_technology_researched = camera
						ROOT = {
							NOT = {
								has_technology_researched = film
							}
						}
					}
					has_technology_researched = film
				}
				relations:root >= relations_threshold:poor
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				any_political_lobby = {
					is_political_lobby_type = lobby_pro_country
					target = {
						relations:root >= relations_threshold:poor
						OR = {
							AND = {
								has_technology_researched = romanticism
								ROOT = {
									NOT = {
										has_technology_researched = realism
									}
								}
							}
							AND = {
								has_technology_researched = realism
								ROOT = {
									NOT = {
										has_technology_researched = camera
									}
								}
							}
							AND = {
								has_technology_researched = camera
								ROOT = {
									NOT = {
										has_technology_researched = film
									}
								}
							}
							has_technology_researched = film
						}
					}
				}
			}
			random_political_lobby = {
				limit = {
					is_political_lobby_type = lobby_pro_country
					target = {
						relations:root >= relations_threshold:poor
						OR = {
							AND = {
								has_technology_researched = romanticism
								ROOT = {
									NOT = {
										has_technology_researched = realism
									}
								}
							}
							AND = {
								has_technology_researched = realism
								ROOT = {
									NOT = {
										has_technology_researched = camera
									}
								}
							}
							AND = {
								has_technology_researched = camera
								ROOT = {
									NOT = {
										has_technology_researched = film
									}
								}
							}
							has_technology_researched = film
						}
					}
				}
				target = {
					save_scope_as = relevant_country
				}
				save_scope_as = relevant_lobby
			}
		}
		else = {
			random_diplomatically_relevant_country = {
				limit = {
					is_valid_lobby_target = yes
					relations:root >= relations_threshold:poor
					OR = {
						AND = {
							has_technology_researched = romanticism
							ROOT = {
								NOT = {
									has_technology_researched = realism
								}
							}
						}
						AND = {
							has_technology_researched = realism
							ROOT = {
								NOT = {
									has_technology_researched = camera
								}
							}
						}
						AND = {
							has_technology_researched = camera
							ROOT = {
								NOT = {
									has_technology_researched = film
								}
							}
						}
						has_technology_researched = film
					}
				}
				save_scope_as = relevant_country
			}
		}
		random_interest_group = {
			limit = {
				OR = {
					bpm_ig_is_left_wing = yes
					bpm_ig_is_urban_institutional = yes
				}
				is_member_of_any_lobby = no
				is_marginal = no
			}
			save_scope_as = relevant_ig
		}
		if = {
			limit = {
				scope:relevant_country ?= {
					has_technology_researched = film
				}
			}
			set_variable = { name = impressive_cultech value = 1 }
		}
		else_if = {
			limit = {
				scope:relevant_country ?= {
					has_technology_researched = camera
				}
				ROOT = {
					NOT = {
						has_technology_researched = film
					}
				}
			}
			set_variable = { name = impressive_cultech value = 2 }
		}
		else_if = {
			limit = {
				scope:relevant_country ?= {
					has_technology_researched = realism
				}
				ROOT = {
					NOT = {
						has_technology_researched = camera
					}
				}
			}
			set_variable = { name = impressive_cultech value = 3 }
		}
		else_if = {
			limit = {
				scope:relevant_country ?= {
					has_technology_researched = romanticism
				}
				ROOT = {
					NOT = {
						has_technology_researched = realism
					}
				}
			}
			set_variable = { name = impressive_cultech value = 4 }
		}
	}
	
	option = {
		name = lobby_events.12.a 
		default_option = yes
		trigger = {
			exists = scope:relevant_lobby
		}
		scope:relevant_lobby ?= {
			add_lobby_member = scope:relevant_ig
		}
	}

	option = {
		name = lobby_events.12.b
		default_option = yes
		trigger = {
			NOT = {
				exists = scope:relevant_lobby
			}
		}
		create_political_lobby = {  
			type = lobby_pro_country  
			target = scope:relevant_country 
			add_interest_group = scope:relevant_ig
			lobby_formation_reason = technology
		}
	}

	option = {
		name = lobby_events.12.c
		scope:relevant_ig = {
			add_modifier = {
				name = modifier_lobby_philistinism
				months = normal_modifier_time
				is_decaying = yes
			}
		}
	}
}

lobby_events.13 = {
	type = country_event
	placement = root

	dlc = dlc010

	duration = 3

	title = lobby_events.13.t
	desc = lobby_events.13.d
	flavor = lobby_events.13.f

	event_image = {
		video = "africa_prosperous_farm"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		any_political_lobby = {
			any_lobby_member = {
				bpm_ig_is_isolationist = yes
				NAND = {
					bpm_ig_is_socialist = yes
					PREV.target = {
						has_law = law_type:law_council_republic
					}
				}
			}
		}
	}
	
	immediate = {
		random_political_lobby = {
			limit = {
				any_lobby_member = {
					bpm_ig_is_isolationist = yes
					NAND = {
						bpm_ig_is_socialist = yes
						PREV.target = {
							has_law = law_type:law_council_republic
						}
					}
				}
			}
			save_scope_as = relevant_lobby
			random_lobby_member = {
				limit = {
					bpm_ig_is_isolationist = yes
					NAND = {
						bpm_ig_is_socialist = yes
						PREV.target = {
							has_law = law_type:law_council_republic
						}
					}
				}
				save_scope_as = relevant_ig
			}
		}
	}
	
	option = {
		name = lobby_events.13.a 
		default_option = yes
		scope:relevant_lobby ?= {
			remove_lobby_member = scope:relevant_ig
		}
	}


	option = {
		name = lobby_events.13.b
		scope:relevant_ig = {
			add_modifier = {
				name = modifier_lobby_membership_forced
				months = normal_modifier_time
				is_decaying = yes
			}
		}
	}
}

lobby_events.14 = {
	type = country_event
	placement = root

	dlc = dlc010

	duration = 3

	title = lobby_events.14.t
	desc = lobby_events.14.d
	flavor = lobby_events.14.f

	event_image = {
		video = "ep1_clandestine_meeting"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		any_interest_group = {
			OR = {
				bpm_ig_is_market_liberal = yes
				is_interest_group_type = ig_industrialists
				is_interest_group_type = ig_landowners
				is_interest_group_type = ig_intelligentsia
			}
			NOT = {
				any_political_lobby = {
					is_political_lobby_type = lobby_anti_country
				}
			}
			is_marginal = no
		}
		ROOT.market_capital = { owner = ROOT }
		market_capital.market = {
			any_trade_route = {
				is_trade_route_productive = yes
				exporter = ROOT.market
			}
		}
		OR = {
			any_political_lobby = {
				is_political_lobby_type = lobby_anti_country
				target = {
					OR = {
						has_diplomatic_pact = {
							who = root
							type = embargo
						}
						has_law = law_type:law_isolationism
						has_law = law_type:law_command_economy
						has_law = law_type:law_cooperative_ownership
					}
				}
			}
			any_diplomatically_relevant_country = {
				is_valid_lobby_target = yes
				OR = {
					has_diplomatic_pact = {
						who = root
						type = embargo
					}
					has_law = law_type:law_isolationism
					has_law = law_type:law_command_economy
					has_law = law_type:law_cooperative_ownership
				}
			}
		}
	}
	
	immediate = {
		market_capital.market = {
			ordered_trade_route = {
				limit = {
					is_trade_route_productive = yes
					exporter.owner = ROOT
				}
				order_by = level
				goods = {
					save_scope_as = relevant_goods
				}
			}
		}
		if = {
			limit = {
				scope:relevant_goods = {
					goods_is_agricultural = yes
				}
				ig:ig_landowners = {
					is_marginal = no
					NOT = {
						any_political_lobby = {
							is_political_lobby_type = lobby_anti_country
						}
					}
				}
			}
			ig:ig_landowners = {
				save_scope_as = relevant_ig
			}
		}
		else_if = {
			limit = {
				scope:relevant_goods = {
					goods_is_artisanal = yes
				}
				ig:ig_intelligentsia = {
					is_marginal = no
					NOT = {
						any_political_lobby = {
							is_political_lobby_type = lobby_anti_country
						}
					}
				}
			}
			ig:ig_intelligentsia = {
				save_scope_as = relevant_ig
			}
		}
		else_if = {
			limit = {
				scope:relevant_goods = {
					goods_is_industrial = yes
				}
				ig:ig_industrialists = {
					is_marginal = no
					NOT = {
						any_political_lobby = {
							is_political_lobby_type = lobby_anti_country
						}
					}
				}
			}
			ig:ig_industrialists = {
				save_scope_as = relevant_ig
			}
		}
		else = {
			random_interest_group = {
				limit = {
					OR = {
						bpm_ig_is_market_liberal = yes
						is_interest_group_type = ig_industrialists
						is_interest_group_type = ig_landowners
						is_interest_group_type = ig_intelligentsia
					}
					NOT = {
						any_political_lobby = {
							is_political_lobby_type = lobby_anti_country
						}
					}
					is_marginal = no
				}
				save_scope_as = relevant_ig
			}
		}
		if = {
			limit = {
				any_political_lobby = {
					is_political_lobby_type = lobby_anti_country
					target = {
						OR = {
							has_diplomatic_pact = {
								who = root
								type = embargo
							}
							has_law = law_type:law_isolationism
							has_law = law_type:law_command_economy
							has_law = law_type:law_cooperative_ownership
						}
					}
				}
			}
			random_political_lobby = {
				limit = {
					is_political_lobby_type = lobby_anti_country
					target = {
						OR = {
							has_diplomatic_pact = {
								who = root
								type = embargo
							}
							has_law = law_type:law_isolationism
							has_law = law_type:law_command_economy
							has_law = law_type:law_cooperative_ownership
						}
					}
				}
				target = {
					save_scope_as = relevant_country
				}
				save_scope_as = relevant_lobby
			}
		}
		else = {
			random_diplomatically_relevant_country = {
				limit = {
					is_valid_lobby_target = yes
					OR = {
						has_diplomatic_pact = {
							who = root
							type = embargo
						}
						has_law = law_type:law_isolationism
						has_law = law_type:law_command_economy
						has_law = law_type:law_cooperative_ownership
					}
				}
				save_scope_as = relevant_country
			}
		}
	}
	
	option = {
		name = lobby_events.14.a 
		default_option = yes
		if = {
			limit = {
				exists = scope:relevant_lobby
			}
			scope:relevant_lobby ?= {
				add_lobby_member = scope:relevant_ig
			}
		}
		else = {
			create_political_lobby = {  
				type = lobby_anti_country  
				target = scope:relevant_country 
				add_interest_group = scope:relevant_ig
			}
		}
	}
	
	option = {
		name = lobby_events.14.b
		if = {
			limit = {
				exists = scope:relevant_lobby
			}
			scope:relevant_lobby ?= {
				add_lobby_member = scope:relevant_ig
			}
		}
		else = {
			create_political_lobby = {  
				type = lobby_anti_country  
				target = scope:relevant_country 
				add_interest_group = scope:relevant_ig
			}
		}
		scope:relevant_ig = {
			add_modifier = {
				name = modifier_commercial_lobby_disregarded
				months = normal_modifier_time
				is_decaying = yes
			}
		}
	}
}

lobby_events.15 = {
	type = country_event
	placement = root

	dlc = dlc010

	duration = 3

	title = lobby_events.15.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = lobby_events.15.d_join
				trigger = {
					exists = scope:relevant_lobby
				}
			}
			triggered_desc = {
				desc = lobby_events.15.d_form
				trigger = {
					NOT = {
						exists = scope:relevant_lobby
					}
				}
			}
		}
	}
	flavor = lobby_events.15.f

	event_image = {
		video = "ep1_octopus"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		any_interest_group = {
			is_marginal = no
			is_member_of_any_lobby = no
			OR = {
				bpm_ig_is_isolationist = yes 
				bpm_ig_is_patriotic = yes
				bpm_ig_is_fascist = yes
			}
		}
		OR = {
			any_political_lobby = {
				is_political_lobby_type = lobby_anti_country
				target = {
					OR = {
						has_diplomatic_pact = {
							who = ROOT
							type = foreign_investment_rights
						}
						has_diplomatic_pact = {
							who = ROOT
							type = foreign_investment_agreement
						}
					}
				}
			}
			any_diplomatically_relevant_country = {
				is_valid_lobby_target = yes
				OR = {
					has_diplomatic_pact = {
						who = ROOT
						type = foreign_investment_rights
					}
					has_diplomatic_pact = {
						who = ROOT
						type = foreign_investment_agreement
					}
				}
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				any_political_lobby = {
					is_political_lobby_type = lobby_anti_country
					target = {
						OR = {
							has_diplomatic_pact = {
								who = ROOT
								type = foreign_investment_rights
							}
							has_diplomatic_pact = {
								who = ROOT
								type = foreign_investment_agreement
							}
						}
					}
				}
			}
			random_political_lobby = {
				limit = {
					is_political_lobby_type = lobby_anti_country
					target = {
						OR = {
							has_diplomatic_pact = {
								who = ROOT
								type = foreign_investment_rights
							}
							has_diplomatic_pact = {
								who = ROOT
								type = foreign_investment_agreement
							}
						}
					}
				}
				target = {
					save_scope_as = relevant_country
				}
				save_scope_as = relevant_lobby
			}
		}
		else = {
			random_diplomatically_relevant_country = {
				limit = {
					OR = {
						has_diplomatic_pact = {
							who = ROOT
							type = foreign_investment_rights
						}
						has_diplomatic_pact = {
							who = ROOT
							type = foreign_investment_agreement
						}
					}
					is_valid_lobby_target = yes
				}
				save_scope_as = relevant_country
			}
		}

		ordered_interest_group = {
			limit = {
				is_member_of_any_lobby = no
				is_marginal = no
				OR = {
					bpm_ig_is_isolationist = yes 
					bpm_ig_is_patriotic = yes
					bpm_ig_is_fascist = yes
				}
			}
			order_by = ig_clout
			save_scope_as = relevant_ig
		}
	}
	
	option = {
		name = lobby_events.15.a 
		default_option = yes
		if = {
			limit = {
				exists = scope:relevant_lobby
			}
			scope:relevant_lobby ?= {
				add_lobby_member = scope:relevant_ig
			}
		}
		else = {
			create_political_lobby = {  
				type = lobby_anti_country  
				target = scope:relevant_country 
				add_interest_group = scope:relevant_ig
			}
		}
	}
	
	option = {
		name = lobby_events.15.b
		if = {
			limit = {
				exists = scope:relevant_lobby
			}
			scope:relevant_lobby ?= {
				add_lobby_member = scope:relevant_ig
			}
		}
		else = {
			create_political_lobby = {  
				type = lobby_anti_country  
				target = scope:relevant_country 
				add_interest_group = scope:relevant_ig
			}
		}
		scope:relevant_ig = {
			add_modifier = {
				name = modifier_xenophobic_lobby_rejected
				months = normal_modifier_time
				is_decaying = yes
			}
		}
	}
}

lobby_events.18 = {
	type = country_event
	placement = root

	dlc = dlc010

	duration = 3

	title = lobby_events.18.t
	desc = {
		first_valid = {
			triggered_desc = {
				desc = lobby_events.18.d_join
				trigger = {
					exists = scope:relevant_lobby
				}
			}
			triggered_desc = {
				desc = lobby_events.18.d_form
				trigger = {
					NOT = {
						exists = scope:relevant_lobby
					}
				}
			}
		}
	}
	flavor = lobby_events.18.f

	event_image = {
		video = "ep1_octopus"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_dlc_feature = lobbies
		is_revolutionary = no
		any_interest_group = {
			bpm_ig_is_very_hawkish = yes
			NOT = {
				leader = {
					bmp_leader_is_doveish = yes
				}
			}
			is_member_of_any_lobby = no
			is_marginal = no
		}
		OR = {
			any_political_lobby = {
				is_political_lobby_type = lobby_anti_country
				target = {
					is_valid_lobby_target = yes
					any_scope_state = {
						is_homeland_of_country_cultures = ROOT
					}
				}
			}
			any_diplomatically_relevant_country = {
				is_valid_lobby_target = yes
				any_scope_state = {
					is_homeland_of_country_cultures = ROOT
				}
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				any_political_lobby = {
					is_political_lobby_type = lobby_anti_country
					target = {
						is_valid_lobby_target = yes
						any_scope_state = {
							is_homeland_of_country_cultures = ROOT
						}
					}
				}
			}
			random_political_lobby = {
				limit = {
					is_political_lobby_type = lobby_anti_country
					target = {
						is_valid_lobby_target = yes
						any_scope_state = {
							is_homeland_of_country_cultures = ROOT
						}
					}
				}
				target = {
					save_scope_as = relevant_country
				}
				save_scope_as = relevant_lobby
			}
		}
		else = {
			random_diplomatically_relevant_country = {
				limit = {
					is_valid_lobby_target = yes
					any_scope_state = {
						is_homeland_of_country_cultures = ROOT
					}
				}
				save_scope_as = relevant_country
			}
		}
		scope:relevant_country ?= {
			ordered_scope_state = {
				limit = {
					is_homeland_of_country_cultures = ROOT
				}
				order_by = gdp
				save_scope_as = revanchist_state
			}
		}
		ordered_interest_group = {
			limit = {
				bpm_ig_is_very_hawkish = yes
				NOT = {
					leader = {
						bmp_leader_is_doveish = yes
					}
				}
				is_member_of_any_lobby = no
				is_marginal = no
			}
			order_by = ig_clout
			save_scope_as = relevant_ig
		}
	}
	
	option = {
		name = lobby_events.18.a 
		default_option = yes
		if = {
			limit = {
				exists = scope:relevant_lobby
			}
			scope:relevant_lobby ?= {
				add_lobby_member = scope:relevant_ig
			}
		}
		else = {
			create_political_lobby = {  
				type = lobby_anti_country  
				target = scope:relevant_country 
				add_interest_group = scope:relevant_ig
			}
		}
		change_relations = {
			country = scope:relevant_country
			value = -5
		}
	}


	option = {
		name = lobby_events.18.b
		if = {
			limit = {
				exists = scope:relevant_lobby
			}
			scope:relevant_lobby ?= {
				add_lobby_member = scope:relevant_ig
			}
		}
		else = {
			create_political_lobby = {  
				type = lobby_anti_country  
				target = scope:relevant_country 
				add_interest_group = scope:relevant_ig
			}
		}
		scope:relevant_ig = {
			add_modifier = {
				name = modifier_jingoism_not_wanted
				months = normal_modifier_time
				is_decaying = yes
			}
		}
	}
}