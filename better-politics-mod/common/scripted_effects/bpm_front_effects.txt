bpm_choose_fronts = {
	bpm_choose_front_ig_subp = { ig = radicals }
	bpm_choose_front_mov_subp = { mov = labor }
}
bpm_choose_front_ig_subp = {
	ig:ig_$ig$ = {
		save_scope_as = selected_ig
	}
	if = {
		limit = {
			scope:selected_ig ?= {
				bpm_interest_group_is_activated = yes
			}
		}
		ordered_in_global_list = {
			variable = bpm_existing_front_names
			position = 0
			order_by = bpm_front_attraction_dispatch_$ig$
			save_scope_as = selected_front_name
		}
		bpm_add_ig_to_front = yes

	}
}

bpm_choose_front_mov_subp = {
	random_political_movement = {
		limit = {
			is_political_movement_type = movement_$mov$
		}
		save_scope_as = selected_mov
	}
	if = {
		limit = {
			any_political_movement = {
				is_political_movement_type = movement_$mov$
				count > 0
			}
		}
		ordered_in_global_list = {
			variable = bpm_existing_front_names
			position = 0
			order_by = bpm_front_attraction_dispatch_$mov$
			save_scope_as = selected_front_name
		}
		bpm_add_mov_to_front = yes
	}
}

bpm_add_ig_to_front = {
	if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_liberal
		}
		add_to_variable_list = {
			name = bpm_front_liberal_members
			target = scope:selected_ig
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_urban
		}
		add_to_variable_list = {
			name = bpm_front_urban_members
			target = scope:selected_ig
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_popular
		}
		add_to_variable_list = {
			name = bpm_front_popular_members
			target = scope:selected_ig
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_republican
		}
		add_to_variable_list = {
			name = bpm_front_republican_members
			target = scope:selected_ig
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_labor
		}
		add_to_variable_list = {
			name = bpm_front_labor_members
			target = scope:selected_ig
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_socialist
		}
		add_to_variable_list = {
			name = bpm_front_socialist_members
			target = scope:selected_ig
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_reactionary
		}
		add_to_variable_list = {
			name = bpm_front_reactionary_members
			target = scope:selected_ig
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_fascist
		}
		add_to_variable_list = {
			name = bpm_front_fascist_members
			target = scope:selected_ig
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_nationalist
		}
		add_to_variable_list = {
			name = bpm_front_nationalist_members
			target = scope:selected_ig
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_peasant
		}
		add_to_variable_list = {
			name = bpm_front_peasant_members
			target = scope:selected_ig
		}
	}
}

bpm_add_mov_to_front = {
	if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_liberal
		}
		add_to_variable_list = {
			name = bpm_front_liberal_movs
			target = scope:selected_mov
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_urban
		}
		add_to_variable_list = {
			name = bpm_front_urban_movs
			target = scope:selected_mov
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_popular
		}
		add_to_variable_list = {
			name = bpm_front_popular_movs
			target = scope:selected_mov
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_republican
		}
		add_to_variable_list = {
			name = bpm_front_republican_movs
			target = scope:selected_mov
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_labor
		}
		add_to_variable_list = {
			name = bpm_front_labor_movs
			target = scope:selected_mov
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_socialist
		}
		add_to_variable_list = {
			name = bpm_front_socialist_movs
			target = scope:selected_mov
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_reactionary
		}
		add_to_variable_list = {
			name = bpm_front_reactionary_movs
			target = scope:selected_mov
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_fascist
		}
		add_to_variable_list = {
			name = bpm_front_fascist_movs
			target = scope:selected_mov
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_nationalist
		}
		add_to_variable_list = {
			name = bpm_front_nationalist_movs
			target = scope:selected_mov
		}
	}
	else_if = {
		limit = {
			scope:selected_front_name = flag:bpm_front_peasant
		}
		add_to_variable_list = {
			name = bpm_front_peasant_movs
			target = scope:selected_mov
		}
	}
}


bpm_setup_global_front_names = {
	add_to_global_variable_list = {
		name = bpm_existing_front_names
		target = flag:bpm_front_urban
	}
	add_to_global_variable_list = {
		name = bpm_existing_front_names
		target = flag:bpm_front_popular
	}
	add_to_global_variable_list = {
		name = bpm_existing_front_names
		target = flag:bpm_front_liberal
	}
	add_to_global_variable_list = {
		name = bpm_existing_front_names
		target = flag:bpm_front_republican
	}
	# new
	add_to_global_variable_list = {
		name = bpm_existing_front_names
		target = flag:bpm_front_labor
	}
	add_to_global_variable_list = {
		name = bpm_existing_front_names
		target = flag:bpm_front_socialist
	}
	add_to_global_variable_list = {
		name = bpm_existing_front_names
		target = flag:bpm_front_reactionary
	}
	add_to_global_variable_list = {
		name = bpm_existing_front_names
		target = flag:bpm_front_fascist
	}
	add_to_global_variable_list = {
		name = bpm_existing_front_names
		target = flag:bpm_front_nationalist
	}
	add_to_global_variable_list = {
		name = bpm_existing_front_names
		target = flag:bpm_front_peasant
	}
}

