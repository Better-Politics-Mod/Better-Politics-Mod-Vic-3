bpm_add_character_to_cabinet = {
    if = {
        limit = {
            owner = { 
                has_variable = bpm_cabinet_char_select
            }
        }
        set_variable = {
            name = bpm_cabinet_minister
            value = owner.var:bpm_cabinet_char_select
        }
        save_scope_value_as = {
            name = addrem
            value = yes
        }
        bpm_addrem_cabinet = yes
    }
}

bpm_remove_character_from_cabinet = {
    if = {
        limit = {
            has_variable = bpm_cabinet_minister
        }

        save_scope_value_as = {
            name = addrem
            value = no
        }
        bpm_addrem_cabinet = yes

        remove_variable = bpm_cabinet_minister

    }
}

bpm_addrem_cabinet_subp = {
    if = {
        limit = {
            scope:addrem = yes
        }
        set_variable = {
            name = bpm_is_institution_$INST$
            value = scope:actor
        }
    }
    else = {
        remove_variable = bpm_is_institution_$INST$
    }
}

# --Cabinet Register Institutions--
bpm_addrem_cabinet = {
    var:bpm_cabinet_minister ?= {
        if = {
            limit = {
                type = owner.institution:institution_schools.type
            }
            owner = { bpm_addrem_cabinet_subp = { INST = schools } }
        }
        else_if = {
            limit = {
                type = owner.institution:institution_centralization.type
            }
            owner = { bpm_addrem_cabinet_subp = { INST = centralization } }
        }
        else_if = {
            limit = {
                type = owner.institution:institution_police.type
            }
            owner = { bpm_addrem_cabinet_subp = { INST = police } }
        }
        else_if = {
            limit = {
                type = owner.institution:institution_colonial_affairs.type
            }
            owner = { bpm_addrem_cabinet_subp = { INST = colonial_affairs } }
        }
        else_if = {
            limit = {
                type = owner.institution:institution_social_security.type
            }
            owner = { bpm_addrem_cabinet_subp = { INST = social_security } }
        }
        else_if = {
            limit = {
                type = owner.institution:institution_workplace_safety.type
            }
            owner = { bpm_addrem_cabinet_subp = { INST = workplace_safety } }
        }
        else_if = {
            limit = {
                type = owner.institution:institution_health_system.type
            }
            owner = { bpm_addrem_cabinet_subp = { INST = health_system } }
        }
        else_if = {
            limit = {
                type = owner.institution:institution_home_affairs.type
            }
            owner = { bpm_addrem_cabinet_subp = { INST = home_affairs } }
        }
        else_if = {
            limit = {
                type = owner.institution:institution_suffrage.type
            }
            owner = { bpm_addrem_cabinet_subp = { INST = suffrage } }
        }
        else_if = {
            limit = {
                type = owner.institution:institution_culture.type
            }
            owner = { bpm_addrem_cabinet_subp = { INST = culture } }
        }
    }
    owner = {
        bpm_reload_institution_modifiers = yes
    }
    
}