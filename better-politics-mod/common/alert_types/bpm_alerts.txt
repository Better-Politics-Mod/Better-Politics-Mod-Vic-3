bpm_idle_legislature = {
	script_context = player_country
	texture = "gfx/interface/icons/alert_icons/reform_government.dds"

	valid = {
		enacting_any_law = no
	}

	open_panel = politics|laws
	type = alert
	color = yellow
}

bpm_law_will_fail_vote = {
	script_context = player_country
	texture = "gfx/interface/icons/alert_icons/bpm_law_warning.dds"

	valid = {
		AND = {
			enacting_any_law = yes
			has_variable = bpm_law_enactment_yea_votes_cached
			var:bpm_law_enactment_yea_votes_cached < 0.5
		}
	}

	open_panel = politics|interest_groups
	type = alert
	color = red
}

bpm_must_appoint_headofgov = {
	script_context = player_country
	texture = "gfx/interface/icons/alert_icons/pm.dds"

	valid = {
		bpm_ruler_is_acting_as_interim_head_of_government = yes
	}

	open_panel = politics|interest_groups
	type = alert
	color = red
}


bpm_must_pick_cabinet = {
	script_context = player_country
	texture = "gfx/interface/icons/alert_icons/pm.dds"

	valid = {
		bpm_has_unfilled_cabinet_positions = yes
	}

	open_panel = politics|institutions
	type = alert
	color = red
}

bpm_auth_shortage = {
	script_context = player_country
	texture = "gfx/interface/icons/alert_icons/authority_shortage.dds"

	valid = {
		authority <= 0
	}

	open_panel = politics|interest_groups
	type = alert
	color = red
}

bpm_auth_high_exhaustion = {
	script_context = player_country
	texture = "gfx/interface/icons/alert_icons/state_exhaustion.dds"

	valid = {
		has_variable = bpm_auth_state_exhaustion
		var:bpm_auth_state_exhaustion >= bpm_auth_alert_exhaustion
		var:bpm_auth_state_exhaustion < bpm_auth_alert_exhaustion_critical
	}

	open_panel = politics|interest_groups
	type = alert
	color = yellow
}

bpm_auth_high_exhaustion_critical = {
	script_context = player_country
	texture = "gfx/interface/icons/alert_icons/state_exhaustion.dds"

	valid = {
		has_variable = bpm_auth_state_exhaustion
		var:bpm_auth_state_exhaustion >= bpm_auth_alert_exhaustion_critical
	}

	open_panel = politics|interest_groups
	type = alert
	color = red
}

bpm_auth_army_costs_exhaustion = {
	script_context = player_country
	texture = "gfx/interface/icons/alert_icons/state_exhaustion_from_army.dds"

	valid = {
		bpm_auth_exhaustion_from_army >= bpm_auth_weekly_state_exhaustion_recovery
	}

	open_panel = military|army
	type = alert
	color = yellow
}

bpm_auth_emboldened_movements_from_collapses = {
	script_context = player_country
	texture = "gfx/interface/icons/alert_icons/authority_shortage.dds"

	valid = {
		has_modifier = bpm_auth_emboldened_movements
	}

	open_panel = politics|interest_groups
	type = alert
	color = yellow
}

bpm_state_about_to_collapse = {
	texture = "gfx/interface/icons/generic_icons/market_isolated.dds"
	script_context = player_state

	valid = {
		AND = {
			turmoil >= {
				value = bpm_auth_radicals_in_state_collapse_threshold
				subtract = 0.05
			}
			bpm_auth_can_collapse = yes
		}
		NOT = {
			OR = {
				has_decree = decree_violent_suppression
				has_decree = decree_bpm_maintain_order
			}
		}
	}

	open_panel = states_panel
	type = alert
	color = red
	alert_group = bpm_about_to_collapse
}

bpm_collapsed_state_ignored = {
	texture = "gfx/interface/icons/generic_icons/market_isolated.dds"
	script_context = player_state

	valid = {
		bpm_auth_state_has_collapsed_auth = yes
		NOT = {
			OR = {
				modifier:state_bpm_auth_restores_order = yes
				owner = { 
					modifier:country_bpm_auth_restores_order = yes 
					is_incorporated = no
				}
			}
		}
	}

	open_panel = states_panel
	type = alert
	color = red
	alert_group = bpm_ignored_collapse
}

bpm_partisans_ignored = {
	texture = "gfx/interface/icons/generic_icons/market_isolated.dds"
	script_context = player_state

	valid = {
		bpm_auth_state_has_partisans = yes
		# NOT = {
		#	OR = {
		#		modifier:state_bpm_auth_restores_order = yes
		#		owner = { 
		#			modifier:country_bpm_auth_restores_order = yes 
		#			is_incorporated = no
		#		}
		#	}
		#}
	}

	open_panel = states_panel
	type = alert
	color = yellow
	alert_group = bpm_ignored_partisans
}