bpm_cabinet_agenda_weekly_progress = {
	if = {
		limit = {
			has_variable = bpm_cabinet_agenda_slot_one_progress
		}
		change_variable = {
			name = bpm_cabinet_agenda_slot_one_progress
			add = 0.204
		}
	}
	if = {
		limit = {
			has_variable = bpm_cabinet_agenda_slot_two_progress
		}
		change_variable = {
			name = bpm_cabinet_agenda_slot_two_progress
			add = 0.004
		}
	}
	if = {
		limit = {
			has_variable = bpm_cabinet_agenda_slot_three_progress
		}
		change_variable = {
			name = bpm_cabinet_agenda_slot_three_progress
			add = 0.004
		}
	}
}

bpm_cabinet_agenda_completion = {
	bpm_cabinet_agenda_completion_subp = { slot = slot_one }
	bpm_cabinet_agenda_completion_subp = { slot = slot_two }
	bpm_cabinet_agenda_completion_subp = { slot = slot_three }
}

bpm_cabinet_agenda_completion_subp = {
	if = {
		limit = {
			var:bpm_cabinet_agenda_$slot$_progress >= 1
		}
		if = {
			limit = {
				var:bpm_cabinet_agenda_$slot$ = flag:bpm_cabinet_agenda_religious_focus
			}
			trigger_event = {
				id = bpm_cabinet_agenda_events.1
				popup = yes
			}
			scope:journal_entry = {
				remove_variable = bpm_cabinet_agenda_$slot$_progress
				remove_variable = bpm_cabinet_agenda_$slot$
			}
		}
	}
}