decree_violent_suppression = { # OVERRIDE
	texture = "gfx/interface/icons/decree/decree_violent_suppression.dds"		
	
	unlocking_technologies = {
		
	}
	
	country_trigger = {
		modifier:country_bpm_auth_oppressive_decrees_disabled = no
		modifier:country_bpm_auth_less_oppressive_decree_enabled = no
		is_player = yes
	}
	state_trigger = {
		NOT = { has_decree = decree_bpm_maintain_order }
		OR = {
			AND = {
				has_decree = decree_violent_suppression
				turmoil >= 0.1	
			}
			turmoil >= 0.2	
		}
		hidden_trigger = { NOT = { has_variable = bpm_auth_setup_check_for_partisans } }
		bpm_auth_state_has_partisans = no
		bpm_auth_state_has_collapsed_auth = no
	}
	modifier = {
		state_mortality_turmoil_mult = 0.1
		state_bpm_auth_radicals_removed_weekly = 0.025
		state_bpm_auth_state_exhaustion_weekly_add = 15
		state_bpm_auth_collapse_chance = -0.9
		# state_bpm_auth_preventing_collapse = yes
	}
	cost = 100
	
	ai_weight = {
		value = 10000
		if = {
			limit = {
				scope:country = {
					authority <= 150
				}
			}
			multiply = 1.0
		}
	}
}

decree_bpm_maintain_order = {
	texture = "gfx/interface/icons/decree/decree_violent_suppression.dds"		
	
	unlocking_technologies = {
		
	}
	
	country_trigger = {
		modifier:country_bpm_auth_oppressive_decrees_disabled = no
		modifier:country_bpm_auth_less_oppressive_decree_enabled = yes
		is_player = yes
	}
	state_trigger = {
		NOT = { has_decree = decree_violent_suppression }
		OR = {
			AND = {
				has_decree = decree_bpm_maintain_order
				turmoil >= 0.1
			}
			turmoil >= 0.2	
		}
		hidden_trigger = { NOT = { has_variable = bpm_auth_setup_check_for_partisans } }
		bpm_auth_state_has_partisans = no
		bpm_auth_state_has_collapsed_auth = no
	}
	modifier = {
		state_mortality_turmoil_mult = 0.02
		state_bpm_auth_radicals_removed_weekly = 0.01
		state_bpm_auth_state_exhaustion_weekly_add = 5
		state_bpm_auth_preventing_collapse = yes
	}
	cost = 50
	
	ai_weight = {
		value = 10000
		if = {
			limit = {
				scope:country = {
					authority <= 100
				}
			}
			multiply = 0.0
		}
	}
}

decree_bpm_restore_order = {
	texture = "gfx/interface/icons/decree/decree_violent_suppression.dds"		
	
	unlocking_technologies = {
		
	}
	
	country_trigger = {
		modifier:country_bpm_auth_oppressive_decrees_disabled = no
		is_player = yes
	}
	state_trigger = {
		bpm_auth_state_has_collapsed_auth = yes
	}
	modifier = {
		state_mortality_turmoil_mult = 0.05
		state_bpm_auth_state_exhaustion_weekly_add = 15
		state_bpm_auth_restores_order = yes
	}
	cost = 200
	
	ai_weight = {
		value = 10000
		if = {
			limit = {
				scope:country = {
					authority <= 200
				}
			}
			multiply = 1.0
		}
	}
}

decree_bpm_suppress_labor = {
	texture = "gfx/interface/icons/decree/decree_violent_suppression.dds"		
	
	unlocking_technologies = {
		
	}
	
	country_trigger = {
		modifier:country_bpm_auth_oppressive_decrees_disabled = no
		modifier:country_bpm_auth_suppress_labor_disabled = no
		is_player = yes # AI would be too stupid to use it
	}
	state_trigger = {
		bpm_auth_state_has_collapsed_auth = yes
	}
	modifier = {
		state_bpm_auth_state_exhaustion_weekly_add = 5
		building_group_bg_manufacturing_throughput_add = 0.2
	}
	cost = 50
	
	ai_weight = { value = 0 }
}

decree_bpm_coerced_construction = {
	texture = "gfx/interface/icons/decree/decree_violent_suppression.dds"		
	
	unlocking_technologies = {
		
	}
	
	country_trigger = {
		modifier:country_bpm_auth_oppressive_decrees_disabled = no
		modifier:country_bpm_auth_coerced_construction_disabled = no
		is_player = yes # AI would be too stupid to use it
	}
	state_trigger = {
		bpm_auth_state_has_collapsed_auth = yes
	}
	modifier = {
		state_bpm_auth_state_exhaustion_weekly_add = 10
		state_construction_mult = 0.4
	}
	cost = 50
	
	ai_weight = { value = 0 }
}

decree_bpm_forced_conscription = {
	texture = "gfx/interface/icons/decree/decree_violent_suppression.dds"		
	
	unlocking_technologies = {
		
	}
	
	country_trigger = {
		modifier:country_bpm_auth_oppressive_decrees_disabled = no
		modifier:country_bpm_auth_forced_conscription_disabled = no
	}
	state_trigger = {
		bpm_auth_state_has_collapsed_auth = yes
	}
	modifier = {
		state_bpm_auth_state_exhaustion_weekly_add = 20
		state_conscription_rate_add = 0.25
		building_training_rate_mult = 2.0
	}
	cost = 50
	
	ai_weight = { 
		value = 0 

		if = {
			limit = { owner = { bpm_auth_fighting_critical_war = yes } }

			if = {
				limit = {
					any_scope_building = {
						is_building_type = building_barracks
						count >= 5
					}				
				}
				add = 2500
			}		
			if = {
				limit = {
					any_scope_building = {
						is_building_type = building_barracks
						count >= 10
					}				
				}
				add = 5000
			}
			if = {
				limit = {
					any_scope_building = {
						is_building_type = building_barracks
						count >= 25
					}			
				}
				add = 7500
			}
		}
	}
}



decree_bpm_withdraw_and_regroup = {
	texture = "gfx/interface/icons/decree/decree_violent_suppression.dds"		
	
	unlocking_technologies = {
		
	}
	
	country_trigger = {
		modifier:country_bpm_auth_oppressive_decrees_disabled = no
		is_player = yes
	}
	state_trigger = {
		bpm_auth_state_has_partisans = no
		bpm_auth_state_has_collapsed_auth = no
		turmoil >= 0.25	
	}
	modifier = {
		state_bpm_auth_state_exhaustion_weekly_add = -100
		state_bpm_auth_collapse_soon = yes
	}
	cost = 0
	
	ai_weight = {
		value = 500
		if = {
			limit = {
				is_incorporated = no
			}
			multiply = 2.0 # AI will prefer withdrawing from unincorporated states
		}
		if = {
			limit = {
				state_has_building_type_levels = {  
					target = bt:building_barracks  
					value = 0
				}
			}
			multiply = 2.0 # AI prefers leaving non-armed states first
		}
		if = {
			limit = {
				state_has_building_type_levels = {  
					target = bt:building_barracks  
					value >= 5
				}
			}
			multiply = 0.75 # AI doesn't like leaving army behind
		}
		if = {
			limit = {
				state_has_building_type_levels = {  
					target = bt:building_barracks  
					value >= 25
				}
			}
			multiply = 0.5 # AI doesn't like leaving army behind
		}
		if = {
			limit = {
				OR = {
					is_capital = yes # AI will never abandon the capital
					scope:country = {
						authority > 0 # AI only does this if it needs to shore up support
					}
					scope:country = {
						any_scope_state = {
							has_decree = decree_bpm_withdraw_and_regroup # AI will do this one at a time
						}
					}
				}
			}
			multiply = 0.0
		}
	}
}