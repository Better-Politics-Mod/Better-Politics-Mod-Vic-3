namespace = bpm_christdem_split

bpm_christdem_split.1 = {
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/southamerica_christianity.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	title = bpm_christdem_split.1.t
	desc = bpm_christdem_split.1.d
	flavor = bpm_christdem_split.1.f
	duration = 3

	dlc = dlc_bpm
	
	immediate = {
		set_local_variable = local_christdem_split_var
		
		bpm_initialize_catholic_interests = yes
	}

	option = {
		name = bpm_christdem_split.1.a
		default_option = yes
	}
}

bpm_christdem_split.2 = {
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/europenorthamerica_capitalists_meeting.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	title = bpm_christdem_split.2.t
	desc = bpm_christdem_split.2.d
	flavor = bpm_christdem_split.2.f
	duration = 3

	dlc = dlc_bpm

	trigger = {
		
	}

	immediate = {
		if = {
			limit = {
				NOT = {
					has_local_variable = local_christdem_split_var
				}
			}
			set_local_variable = local_christdem_split_var
		}
		
		bpm_initialize_christdems = yes
	}

	option = {
		name = bpm_christdem_split.2.a
		default_option = yes
	}

	option = {
		name = bpm_christdem_split.2.b

		trigger = {
			always = no
		}

		custom_tooltip = {
			text = bpm_movement_splits_christdems_tt
		}
        ig:ig_christian_democrats = {
            add_modifier = {
                name = bpm_ig_gaining_support
                multiplier = 2
                months = normal_modifier_time
            }
        }
	}
	
	option = {
		name = bpm_christdem_split.2.c

		trigger = {
			always = no
		}

		custom_tooltip = {
			text = bpm_movement_splits_christdems_tt
		}
	}
}



################ State power and decentralisation

bpm_christdem_split.4 = {
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/southamerica_election.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_map.dds"
	title = bpm_christdem_split.4.t
	desc = bpm_christdem_split.4.desc
	flavor = bpm_christdem_split.4.f
	duration = 3

	dlc = dlc_bpm

	trigger = {
		has_journal_entry = je_bpm_christian_or_democrat
		var:independence_from_church_variable >= 20
		NOT = { has_variable = bpm_christian_democrats_sta_ideology }
	}

	immediate = {
		set_variable = bpm_christian_democrats_sta_ideology
	}

	after = {
		change_variable = { name = christian_democrats_ideology_change add = 1 }
		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_reorder_ideologies = yes
			}
		}
	}

	option = {
		name = bpm_christdem_split.4.a

		default_option = yes

		custom_tooltip = {
			text = option_retain_regionalized_state_tt
			ig:ig_christian_democrats = {
				bpm_remove_all_sta_ideologies = yes
				add_ideology = ideology_sta_regionalized_state
			}
		}
	}

	option = {
		name = bpm_christdem_split.4.b

		hidden_effect = {
			ig:ig_christian_democrats = {
				bpm_remove_all_sta_ideologies = yes
			}
		}

		ig:ig_christian_democrats = {
			add_ideology = ideology_sta_federated_state
		}
	}

	option = {
		name = bpm_christdem_split.4.c

		highlighted_option = yes
		trigger = {
			OR = {
				#custom_tooltip = {
				#	text = reactionary_movement_support_radicalism_tt
				#	OR = {
				#		var:bpm_reactionary_movement.political_movement_support >= 0.1
				#		var:bpm_reactionary_movement.political_movement_radicalism >= 0.2
				#	}
				#}
				custom_tooltip = {
					text = liberal_nationalist_movement_support_radicalism_tt
					OR = {
						var:bpm_national_liberal_movement.political_movement_support >= 0.1
						var:bpm_national_liberal_movement.political_movement_radicalism >= 0.3
					}
				}
				any_interest_group = {
					OR = {
						has_ideology = ideology:ideology_rel_moralist
						has_ideology = ideology:ideology_sta_powerful_state
						has_ideology = ideology:ideology_sta_security_state
					}
					is_powerful = yes
				}
				always = yes
			}
		}

		ig:ig_christian_democrats = {
			bpm_remove_all_sta_ideologies = yes
			add_ideology = ideology_sta_powerful_state
		}
	}
}

bpm_christdem_split.5 = {
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/southamerica_factory_opening.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_industry.dds"

	title = bpm_christdem_split.5.t
	desc = bpm_christdem_split.5.d1
	flavor = bpm_christdem_split.5.f
	
	duration = 3

	dlc = dlc_bpm

	trigger = {
		has_journal_entry = je_bpm_christian_or_democrat
		var:independence_from_church_variable > 60 # Rerum Novarum must be announced!
		NOT = { has_variable = bpm_christian_democrats_eco_ideology }
	}

	immediate = {
		set_variable = bpm_christian_democrats_eco_ideology
	}

	after = {
		change_variable = { name = christian_democrats_ideology_change add = 1 }
		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_reorder_ideologies = yes
			}
		}
	}

	option = {
		name = bpm_christdem_split.5.a

		default_option = yes

		highlighted_option = yes
		trigger = {
			custom_tooltip = {
				text = distributist_economy_tt
				
				je:je_bpm_christian_or_democrat ?= { 
					"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" <= 20
				}
			}
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_eco_ideologies = yes
			}
			add_ideology = ideology_eco_distrubitist_economy
		}
		
	}

	option = {
		name = bpm_christdem_split.5.b

		highlighted_option = yes

		trigger = {
			custom_tooltip = {
				text = economical_leaning_interventionist_tt
				je:je_bpm_christian_or_democrat ?= { 
					"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" >= 15
					"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" <= 85
				}
			}
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_eco_ideologies = yes
			}
			add_ideology = ideology_eco_modern_interventionist
		}
	}

	option = {
		name = bpm_christdem_split.5.c

		trigger = {
			custom_tooltip = {
				text = socialised_economy_tt
				je:je_bpm_christian_or_democrat ?= { 
					"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" >= 80
				}
			}
		}

		highlighted_option = yes

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_eco_ideologies = yes
			}
			add_ideology = ideology_eco_centralized_economy
		}
	}

	option = {
		name = bpm_christdem_split.5.d

		trigger = {
			OR = {
				pop_type_percent_country = {
					pop_type = peasants
					percent >= 0.30
				}
				country_rank < rank_value:major_power 
			}
			OR = {
				ig:ig_christian_democrats = {
					has_ideology = ideology:ideology_dop_christian_democrat
				}
				ig:ig_christian_democrats = {
					has_ideology = ideology:ideology_dop_illiberal_democrat
				}
			}
		}

		highlighted_option = yes

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_eco_ideologies = yes
			}
			add_ideology = ideology_eco_modern_agrarian
		}
	}
}

#################################
########### Religion Stance Debate

bpm_christdem_split.6 = {
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/southamerica_christianity.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	title = bpm_christdem_split.6.t
	desc = {
		triggered_desc = {
			desc = bpm_christdem_split.6.d1
			trigger = {

			}
		}
	}
	flavor = bpm_christdem_split.6.f
	
	duration = 3

	dlc = dlc_bpm

	trigger = {
		has_journal_entry = je_bpm_christian_or_democrat
		var:independence_from_church_variable >= 10
		NOT = { has_variable = bpm_christian_democrats_rel_ideology }
	}

	immediate = {
		set_variable = bpm_christian_democrats_rel_ideology
	}

	after = {
		change_variable = { name = christian_democrats_ideology_change add = 1 }
		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_reorder_ideologies = yes
			}
		}
	}

	option = {
		name = bpm_christdem_split.6.a

		default_option = yes

		highlighted_option = yes
		trigger = {
			country_has_state_religion = rel:catholic
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_rel_ideologies = yes
			}
			add_ideology = ideology_rel_moralist
		}
		
	}

	option = {
		name = bpm_christdem_split.6.b

		highlighted_option = yes
		trigger = {
			custom_tooltip = {
				text = democracy_leaning_christian_democrat_tt
				je:je_bpm_christian_or_democrat ?= {
					"scripted_bar_progress(je_bpm_christian_democrat_ideology_progress_bar)" >= 66
				}
			}
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_rel_ideologies = yes
			}
			add_ideology = ideology_rel_liberal_moralist
		}
	}

	option = {
		name = bpm_christdem_split.6.c

		highlighted_option = yes
		trigger = {
			NOT = {
				country_has_state_religion = rel:catholic
			}
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_rel_ideologies = yes
			}
			add_ideology = ideology_rel_pragmatic_moralist
		}
	}
}

#################################
########### Welfare Stance Debate

bpm_christdem_split.7 = {
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/europenorthamerica_rich_and_poor.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_trade.dds"

	title = bpm_christdem_split.7.t
	desc = bpm_christdem_split.7.d1
	flavor = bpm_christdem_split.7.f
	
	duration = 3

	dlc = dlc_bpm

	trigger = {
		has_journal_entry = je_bpm_christian_or_democrat
		var:independence_from_church_variable >= 50
		NOT = { has_variable = bpm_christian_democrats_wel_ideology }
	}

	immediate = {
		set_variable = bpm_christian_democrats_wel_ideology
	}

	after = {
		change_variable = { name = christian_democrats_ideology_change add = 1 }
		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_reorder_ideologies = yes
			}
		}
	}

	option = {
		name = bpm_christdem_split.7.a

		default_option = yes

		highlighted_option = yes
		trigger = {
			#custom_tooltip = {
			#	text = welfare_leaning_society_welfare_tt
			#	je:je_bpm_christian_or_democrat ?= {
			#		"scripted_bar_progress(je_bpm_christian_democrats_welfare_progress_bar)" <= 25
			#	}
			#}
			NOR = {
				je:je_bpm_christian_or_democrat ?= { 
					"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" <= 25
				}
				has_technology_researched = corporatism
			}
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_wel_ideologies = yes
			}
			add_ideology = ideology_wel_religious_welfare
		}

		
	}

	option = {
		name = bpm_christdem_split.7.b

		highlighted_option = yes
		trigger = {
			#custom_tooltip = {
			#	text = welfare_leaning_central_welfare_tt
			#	je:je_bpm_christian_or_democrat ?= {
			#		"scripted_bar_progress(je_bpm_christian_democrats_welfare_progress_bar)" >= 20
			#		"scripted_bar_progress(je_bpm_christian_democrats_welfare_progress_bar)" <= 80
			#	}
			#}
			has_technology_researched = corporatism
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_wel_ideologies = yes
			}
			add_ideology = ideology_wel_social_market_welfare
		}
	}

	option = {
		name = bpm_christdem_split.7.c

		highlighted_option = yes
		trigger = {
			#custom_tooltip = {
			#	text = welfare_leaning_state_welfare_tt
			#	je:je_bpm_christian_or_democrat ?= {
			#		"scripted_bar_progress(je_bpm_christian_democrats_welfare_progress_bar)" >= 75
			#	}
			#}
			has_technology_researched = corporatism
			
			custom_tooltip = {
				text = welfare_leaning_state_eco_75_tt
				je:je_bpm_christian_or_democrat ?= { 
					"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" >= 65
				}
			}
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_wel_ideologies = yes
			}
			add_ideology = ideology_wel_expanded_public_welfare
		}
	}
}

#################################
########### Nationalism Stance Debate

bpm_christdem_split.8 = {
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/middleeast_middleclass_cafe.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"

	title = bpm_christdem_split.8.t
	desc = bpm_christdem_split.8.desc
	flavor = bpm_christdem_split.8.f
	
	duration = 3

	dlc = dlc_bpm

	trigger = {
		has_journal_entry = je_bpm_christian_or_democrat
		var:independence_from_church_variable >= 30
		NOT = { has_variable = bpm_christian_democrats_cit_ideology }
	}

	immediate = {
		set_variable = bpm_christian_democrats_cit_ideology
	}

	after = {
		change_variable = { name = christian_democrats_ideology_change add = 1 }
		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_reorder_ideologies = yes
			}
		}
	}

	option = { #### Internationalism (Franco-Italian Popularists, Young Right movement)
		name = bpm_christdem_split.8.a

		default_option = yes

		highlighted_option = yes
		trigger = {
			
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_cit_ideologies = yes
			}
			add_ideology = ideology_cit_christian_internationalist
		}
		
	}

	option = { #### Imigrant Nationalism
		name = bpm_christdem_split.8.b

		default_option = yes

		highlighted_option = yes
		trigger = {
			bpm_country_is_in_new_world = yes
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_cit_ideologies = yes
			}
			add_ideology = ideology_cit_immigrant_nationalist
		}
	}

	option = { # Multi-Ethnic nationalism (Poland, Austria, Hungary etc)
		name = bpm_christdem_split.8.c

		highlighted_option = yes
		trigger = {
			
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_cit_ideologies = yes
			}
			add_ideology = ideology_cit_multiethnic_nationalist
		}
	}

	option = { # Liberal Nationalism (Almost all if not actually all)
		name = bpm_christdem_split.8.d

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_cit_ideologies = yes
			}
			add_ideology = ideology_cit_liberal_nationalist
		}
	}

	option = { # Ethnonationalism? Defo lithuania, very late CSP somewhat
		name = bpm_christdem_split.8.e

		highlighted_option = yes
		trigger = {
			custom_tooltip = {
				text = reactionary_movement_support_radicalism_tt
				OR = {
					var:bpm_reactionary_movement.political_movement_support >= 0.1
					var:bpm_reactionary_movement.political_movement_radicalism >= 0.2
				}
			}
			custom_tooltip = {
				text = liberal_nationalist_movement_support_radicalism_tt
				OR = {
					var:bpm_national_liberal_movement.political_movement_support >= 0.1
					var:bpm_national_liberal_movement.political_movement_radicalism >= 0.3
				}
			}
			any_interest_group = {
				OR = {
					has_ideology = ideology:ideology_cit_nationalist
					has_ideology = ideology:ideology_cit_ethnonationalist
				}
				is_powerful = yes
			}
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_cit_ideologies = yes
			}
			add_ideology = ideology_cit_ethnonationalist
		}
	}
}

bpm_christdem_split.9 = {
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/southamerica_election.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_election.dds"

	title = bpm_christdem_split.9.t
	desc = bpm_christdem_split.9.desc
	flavor = bpm_christdem_split.9.f
	
	duration = 3

	dlc = dlc_bpm

	trigger = {
		has_journal_entry = je_bpm_christian_or_democrat
		var:independence_from_church_variable >= 40
		NOT = { has_variable = bpm_christian_democrats_dop_ideology }
	}

	immediate = {
		set_variable = bpm_christian_democrats_dop_ideology
	}

	after = {
		change_variable = { name = christian_democrats_ideology_change add = 1 }
		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_reorder_ideologies = yes
			}
		}
	}

	option = { #### Christian Democrat
		name = bpm_christdem_split.9.a

		default_option = yes

		highlighted_option = yes
		trigger = {
			custom_tooltip = {
				text = democracy_leaning_christian_democrat_tt
				je:je_bpm_christian_or_democrat ?= {
					"scripted_bar_progress(je_bpm_christian_democrat_ideology_progress_bar)" >= 66
				}
			}
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_dop_ideologies = yes
			}
			add_ideology = ideology_dop_christian_democrat
		}

		
	}

	option = { #### Divine Democrat
		name = bpm_christdem_split.9.b

		highlighted_option = yes
		trigger = {
			custom_tooltip = {
				text = democracy_leaning_divine_democrat_tt
				je:je_bpm_christian_or_democrat ?= {
					"scripted_bar_progress(je_bpm_christian_democrat_ideology_progress_bar)" >= 25
					"scripted_bar_progress(je_bpm_christian_democrat_ideology_progress_bar)" <= 75
				}
			}
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_dop_ideologies = yes
			}
			add_ideology = ideology_dop_divine_democrat
		}
	}

	option = { #### Illiberal Democrat
		name = bpm_christdem_split.9.c

		highlighted_option = yes
		trigger = {
			custom_tooltip = {
				text = democracy_leaning_illiberal_democrat_tt
				je:je_bpm_christian_or_democrat ?= {
					"scripted_bar_progress(je_bpm_christian_democrat_ideology_progress_bar)" <= 33
				}
			}
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_dop_ideologies = yes
			}
			add_ideology = ideology_dop_illiberal_democrat
		}
	}
}


bpm_christdem_split.10 = {
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/unspecific_military_parade.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_military.dds"

	title = bpm_christdem_split.10.t
	desc = bpm_christdem_split.10.desc
	flavor = bpm_christdem_split.10.f
	
	duration = 3

	dlc = dlc_bpm

	trigger = {
		has_journal_entry = je_bpm_christian_or_democrat
		var:independence_from_church_variable >= 70
		NOT = { has_variable = bpm_christian_democrats_mil_ideology }
	}

	immediate = {
		set_variable = bpm_christian_democrats_mil_ideology
	}

	after = {
		change_variable = { name = christian_democrats_ideology_change add = 1 }
		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_reorder_ideologies = yes
			}
		}
	}

	option = { #### Defensive Patriotic
		name = bpm_christdem_split.10.a

		default_option = yes

		highlighted_option = yes
		trigger = {
			always = yes
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_mil_ideologies = yes
			}
			add_ideology = ideology_mil_defensive_patriot
		}

		
	}

	option = { #### Liberal-Patriotic
		name = bpm_christdem_split.10.b

		highlighted_option = yes
		trigger = {
			always = yes
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_mil_ideologies = yes
			}
			add_ideology = ideology_mil_patriotic_liberal
		}
	}
}


bpm_christdem_split.11 = {
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/europenorthamerica_sufferage.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	title = bpm_christdem_split.11.t
	desc = bpm_christdem_split.11.desc
	flavor = bpm_christdem_split.11.f
	
	duration = 3

	dlc = dlc_bpm

	trigger = {
		has_journal_entry = je_bpm_christian_or_democrat
		var:independence_from_church_variable >= 80
		NOT = { has_variable = bpm_christian_democrats_fem_ideology }
	}

	immediate = {
		set_variable = bpm_christian_democrats_fem_ideology
	}

	after = {
		change_variable = { name = christian_democrats_ideology_change add = 1 }
		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_reorder_ideologies = yes
			}
		}
	}

	option = { #### Benevolent Sexism
		name = bpm_christdem_split.11.a

		highlighted_option = yes
		trigger = {
			has_technology_researched = feminism
		}

		default_option = yes

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_fem_ideologies = yes
			}
			add_ideology = ideology_fem_benevolent_sexism
		}

		set_variable = {
			name = bpm_christian_democrats_fem_ideology 
			value = ideology:ideology_fem_benevolent_sexism
		}
	}	

	option = { #### Moderate Patriarchy
		name = bpm_christdem_split.11.b

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_fem_ideologies = yes
			}
			add_ideology = ideology_fem_moderate_patriarchal
		}

		
	}	
}


bpm_christdem_split.12 = {
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/europenorthamerica_sufferage.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_default.dds"

	title = bpm_christdem_split.12.t
	desc = bpm_christdem_split.12.desc
	flavor = bpm_christdem_split.12.f
	
	duration = 3

	dlc = dlc_bpm

	trigger = {
		has_journal_entry = je_bpm_christian_or_democrat
		var:independence_from_church_variable >= 90
		NOT = { has_variable = bpm_christian_democrats_program_completed }
	}

	immediate = {
		set_variable = bpm_christian_democrats_program_completed
	}

	after = {
		
		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_reorder_ideologies = yes
			}
		}
	}

	option = { #### Rise of Christian Democracy
		name = bpm_christdem_split.12.a
		
		default_option = yes
	}	
}

bpm_christdem_split.13 = {
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/europenorthamerica_sufferage.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_default.dds"

	title = bpm_christdem_split.13.t
	desc = bpm_christdem_split.13.desc
	flavor = bpm_christdem_split.13.f
	
	duration = 3

	dlc = dlc_bpm

	trigger = {
	}

	immediate = {
		
	}

	after = {
		set_variable = bpm_christian_democrats_program_completed
		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_reorder_ideologies = yes
			}
		}
	}

	option = { #### 
		name = bpm_christdem_split.13.a
		
		default_option = yes
	}	
}

###################################################
########## Flavour Stuff 

# Primate of ROOT proclaims support for democracy (Like Belgian, must be before the Syllabus of Errors)
# Bishop publicly criticizes democracy
# All alone: Catholics against the world
# Labour/youth wing speaks out: criticism of capitalism
# Are we christians, or democrats?
# Responding to economical crisises
# Internal opposition to ROOT.RecentChoice
# The pope criticizes local movement
# Organisation/Group created
# Party/Catholic Action created
# Farmers/Bourgouisie/Labourers take lead

bpm_christdem_split.25 = {
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/europenorthamerica_sufferage.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_default.dds"

	title = bpm_christdem_split.25.t
	desc = bpm_christdem_split.25.desc
	flavor = bpm_christdem_split.25.f
	
	duration = 3

	dlc = dlc_bpm

	trigger = {
	}

	immediate = {
		
	}

	after = {
		
	}

	option = { #### 
		name = bpm_christdem_split.25.a
		
		default_option = yes
	}	
}

bpm_christdem_split.50 = {
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/southamerica_factory_opening.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_industry.dds"
	title = bpm_christdem_split.50.t
	desc = bpm_christdem_split.50.d
	flavor = bpm_christdem_split.50.f
	duration = 3

	dlc = dlc_bpm

	after = {
		change_variable = { name = christian_democrats_ideology_change add = 1 }
		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_reorder_ideologies = yes
			}
		}
	}

	trigger = {
		has_journal_entry = je_bpm_christian_or_democrat
		var:independence_from_church_variable > 60 # Rerum Novarum must be announced!
		has_variable = bpm_christian_democrats_eco_ideology
		OR = {
			AND = {
				ig:ig_christian_democrats = {
					has_ideology = ideology:ideology_eco_centralized_economy
				}
				je:je_bpm_christian_or_democrat ?= { 
					"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" <= 65
				}
			}

			#AND = {
			#	ig:ig_christian_democrats = {
			#		has_ideology = ideology:ideology_eco_modern_interventionist
			#	}
			#	"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" >= 80
			#	OR = {
			#		"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" >= 80
			#		"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" <= 20
			#	}
			#}

			AND = {
				ig:ig_christian_democrats = {
					has_ideology = ideology:ideology_eco_distrubitist_economy
				}
				
				je:je_bpm_christian_or_democrat ?= { 
					"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" >= 35
				}
			}
		}
	}

	immediate = {
		
	}

	option = {
		name = bpm_christdem_split.5.a

		default_option = yes

		highlighted_option = yes
		trigger = {
			NOT = {
				ig:ig_christian_democrats = {
					has_ideology = ideology:ideology_eco_distrubitist_economy
				}
			}
			je:je_bpm_christian_or_democrat ?= { 
				"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" <= 20
			}
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_eco_ideologies = yes
			}
			add_ideology = ideology_eco_distrubitist_economy
		}
		set_variable = {
			name = bpm_christian_democrats_eco_ideology 
			value = ideology:ideology_eco_distrubitist_economy
		}
	}

	option = {
		name = bpm_christdem_split.5.b

		highlighted_option = yes

		trigger = {
			NOT = {
				ig:ig_christian_democrats = {
					has_ideology = ideology:ideology_eco_modern_interventionist
				}
			}
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_eco_ideologies = yes
			}
			add_ideology = ideology_eco_modern_interventionist
		}
		set_variable = {
			name = bpm_christian_democrats_eco_ideology 
			value = ideology:ideology_eco_modern_interventionist
		}
	}

	option = {
		name = bpm_christdem_split.5.a

		default_option = yes

		highlighted_option = yes
		trigger = {
			NOT = {
				ig:ig_christian_democrats = {
					has_ideology = ideology:ideology_eco_centralized_economy
				}
			}
			je:je_bpm_christian_or_democrat ?= { 
				"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" >= 80
			}
		}

		ig:ig_christian_democrats = {
			hidden_effect = {
				bpm_remove_all_eco_ideologies = yes
			}
			add_ideology = ideology_eco_centralized_economy
		}
		set_variable = {
			name = bpm_christian_democrats_eco_ideology 
			value = ideology:ideology_eco_centralized_economy
		}
	}
}

bpm_christdem_split.51 = { #####
	type = country_event
	placement = root

	event_image = { video = "gfx/event_pictures/southamerica_factory_opening.bk2" }
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/waving_flag.dds"
	title = bpm_christdem_split.51.t
	desc = bpm_christdem_split.51.d
	flavor = bpm_christdem_split.51.f
	duration = 3

	dlc = dlc_bpm

	trigger = {
		
	}

	immediate = {
		
	}

	option = {
		name = bpm_christdem_split.31.a
		default_option = yes
	}
}