bpm_no_cabinet_picks_government_igs_count = {
    value = 0

    every_interest_group = {
        limit = {
            is_in_government = yes
            var:bpm_number_of_cabpicks ?= 0
        }
        add = 1
    }
}

# -- Cabinet Register Institutions (7) --
bpm_number_of_institutitions = {
    value = 0

    if = {
        limit = {
            has_institution = institution_colonial_affairs
        }
        add = 1
    }
    if = {
        limit = {
            has_institution = institution_social_security
        }
        add = 1
    }
    if = {
        limit = {
            has_institution = institution_workplace_safety
        }
        add = 1
    }
    if = {
        limit = {
            has_institution = institution_schools
        }
        add = 1
    }
    if = {
        limit = {
            has_institution = institution_police
        }
        add = 1
    }
    if = {
        limit = {
            has_institution = institution_health_system
        }
        add = 1
    }
    if = {
        limit = {
            has_institution = institution_home_affairs
        }
        add = 1
    }
    if = {
        limit = {
            has_institution = institution_centralization
        }
        add = 1
    }
    if = {
        limit = {
            has_institution = institution_suffrage
        }
        add = 1
    }
    if = {
        limit = {
            has_institution = institution_culture
        }
        add = 1
    }
    if = {
        limit = {
            has_institution = institution_diplomacy
        }
        add = 1
    }

}

# -- Cabinet Register Institutions (12) --
bpm_cabinet_supports_enacting_law = {
    value = 0

    if = {
        limit = {
            var:bpm_is_institution_colonial_affairs ?= {
                law_stance = {
                    law = prev.currently_enacting_law
                    value > neutral
                }
            }   
        }
        add = 1
    }
    if = {
        limit = {
            var:bpm_is_institution_social_security ?= {
                law_stance = {
                    law = prev.currently_enacting_law
                    value > neutral
                }
            }   
        }
        add = 1
    }
    if = {
        limit = {
            var:bpm_is_institution_workplace_safety ?= {
                law_stance = {
                    law = prev.currently_enacting_law
                    value > neutral
                }
            }   
        }
        add = 1
    }
    if = {
        limit = {
            var:bpm_is_institution_schools ?= {
                law_stance = {
                    law = prev.currently_enacting_law
                    value > neutral
                }
            }   
        }
        add = 1
    }
    if = {
        limit = {
            var:bpm_is_institution_police ?= {
                law_stance = {
                    law = prev.currently_enacting_law
                    value > neutral
                }
            }   
        }
        add = 1
    }
    if = {
        limit = {
            var:bpm_is_institution_health_system ?= {
                law_stance = {
                    law = prev.currently_enacting_law
                    value > neutral
                }
            }   
        }
        add = 1
    }
    if = {
        limit = {
            var:bpm_is_institution_home_affairs ?= {
                law_stance = {
                    law = prev.currently_enacting_law
                    value > neutral
                }
            }   
        }
        add = 1
    }
    if = {
        limit = {
            var:bpm_is_institution_centralization ?= {
                law_stance = {
                    law = prev.currently_enacting_law
                    value > neutral
                }
            }   
        }
        add = 1
    }
    if = {
        limit = {
            var:bpm_is_institution_suffrage ?= {
                law_stance = {
                    law = prev.currently_enacting_law
                    value > neutral
                }
            }   
        }
        add = 1
    }
    if = {
        limit = {
            var:bpm_is_institution_culture ?= {
                law_stance = {
                    law = prev.currently_enacting_law
                    value > neutral
                }
            }   
        }
    }
    if = {
        limit = {
            var:bpm_is_institution_diplomacy ?= {
                law_stance = {
                    law = prev.currently_enacting_law
                    value > neutral
                }
            }   
        }
        add = 1
    }
    if = {
        limit = {
            var:bpm_is_institution_economy ?= {
                law_stance = {
                    law = prev.currently_enacting_law
                    value > neutral
                }
            }   
        }
        add = 1
    }
}

# -- Cabinet Register Institutions (13) --
bpm_cabinet_number_of_members = {
    value = 0

    if = {
        limit = {
            exists = var:bpm_is_institution_colonial_affairs
        }
        add = 1
    }
    if = {
        limit = {
            exists = var:bpm_is_institution_social_security
        }
        add = 1
    }
    if = {
        limit = {
            exists = var:bpm_is_institution_workplace_safety
        }
        add = 1
    }
    if = {
        limit = {
            exists = var:bpm_is_institution_schools
        }
        add = 1
    }
    if = {
        limit = {
            exists = var:bpm_is_institution_police
        }
        add = 1
    }
    if = {
        limit = {
            exists = var:bpm_is_institution_health_system
        }
        add = 1
    }
    if = {
        limit = {
            exists = var:bpm_is_institution_home_affairs
        }
        add = 1
    }
    if = {
        limit = {
            exists = var:bpm_is_institution_centralization
        }
        add = 1
    }
    if = {
        limit = {
            exists = var:bpm_is_institution_suffrage
        }
        add = 1
    }
    if = {
        limit = {
            exists = var:bpm_is_institution_culture
        }
        add = 1
    }
    if = {
        limit = {
            exists = var:bpm_is_institution_diplomacy
        }
        add = 1
    }
    if = {
        limit = {
            exists = var:bpm_is_institution_economy
        }
        add = 1
    }
}

bpm_cabinet_current_law_support_percentage = {
    if = {
        limit = {
            bpm_cabinet_number_of_members > 0
        }
        value = bpm_cabinet_supports_enacting_law 
        divide = bpm_cabinet_number_of_members
    } 
    else = {
        value = 0
    }
}