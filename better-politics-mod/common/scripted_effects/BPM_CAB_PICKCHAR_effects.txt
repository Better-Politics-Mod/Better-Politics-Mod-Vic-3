# --CABGENSCRIPT_BASE --
bpm_cab_fill_positions = {
    clear_variable_list = bpm_CAB_char_select_pool
    if = {
        limit = {
            OR = {
                NOT = { has_variable = bpm_is_institution_colonial_affairs }
                var:bpm_is_institution_colonial_affairs ?= {
                    is_character_alive = no
                }
            }
        }
        bpm_pick_cabinet_minister = yes
        random_in_list = {
            variable = bpm_CAB_char_select_pool
            save_scope_as = actor
        }
        set_variable = {
            name = bpm_is_institution_colonial_affairs
            value = scope:actor
        }
        scope:actor = {
            set_variable = {
                name = bpm_cabinet_minister
                value = owner.institution:institution_colonial_affairs.type
            }
        }
        clear_variable_list = bpm_CAB_char_select_pool
    }
    if = {
        limit = {
            OR = {
                NOT = { has_variable = bpm_is_institution_colonial_affairs }
                var:bpm_is_institution_colonial_affairs ?= {
                    is_character_alive = no
                }
            }
        }
        bpm_pick_cabinet_minister = yes
        random_in_list = {
            variable = bpm_CAB_char_select_pool
            save_scope_as = actor
        }
        set_variable = {
            name = bpm_is_institution_colonial_affairs
            value = scope:actor
        }
        scope:actor = {
            set_variable = {
                name = bpm_cabinet_minister
                value = owner.institution:institution_colonial_affairs.type
            }
        }
        clear_variable_list = bpm_CAB_char_select_pool
    }

    if = {
        limit = {
            OR = {
                NOT = { has_variable = bpm_is_institution_social_security }
                var:bpm_is_institution_social_security ?= {
                    is_character_alive = no
                }
            }
        }
        bpm_pick_cabinet_minister = yes
        random_in_list = {
            variable = bpm_CAB_char_select_pool
            save_scope_as = actor
        }
        set_variable = {
            name = bpm_is_institution_social_security
            value = scope:actor
        }
        scope:actor = {
            set_variable = {
                name = bpm_cabinet_minister
                value = owner.institution:institution_social_security.type
            }
        }
        clear_variable_list = bpm_CAB_char_select_pool
    }

    if = {
        limit = {
            OR = {
                NOT = { has_variable = bpm_is_institution_workplace_safety }
                var:bpm_is_institution_workplace_safety ?= {
                    is_character_alive = no
                }
            }
        }
        bpm_pick_cabinet_minister = yes
        random_in_list = {
            variable = bpm_CAB_char_select_pool
            save_scope_as = actor
        }
        set_variable = {
            name = bpm_is_institution_workplace_safety
            value = scope:actor
        }
        scope:actor = {
            set_variable = {
                name = bpm_cabinet_minister
                value = owner.institution:institution_workplace_safety.type
            }
        }
        clear_variable_list = bpm_CAB_char_select_pool
    }

    if = {
        limit = {
            OR = {
                NOT = { has_variable = bpm_is_institution_schools }
                var:bpm_is_institution_schools ?= {
                    is_character_alive = no
                }
            }
        }
        bpm_pick_cabinet_minister = yes
        random_in_list = {
            variable = bpm_CAB_char_select_pool
            save_scope_as = actor
        }
        set_variable = {
            name = bpm_is_institution_schools
            value = scope:actor
        }
        scope:actor = {
            set_variable = {
                name = bpm_cabinet_minister
                value = owner.institution:institution_schools.type
            }
        }
        clear_variable_list = bpm_CAB_char_select_pool
    }

    if = {
        limit = {
            OR = {
                NOT = { has_variable = bpm_is_institution_police }
                var:bpm_is_institution_police ?= {
                    is_character_alive = no
                }
            }
        }
        bpm_pick_cabinet_minister = yes
        random_in_list = {
            variable = bpm_CAB_char_select_pool
            save_scope_as = actor
        }
        set_variable = {
            name = bpm_is_institution_police
            value = scope:actor
        }
        scope:actor = {
            set_variable = {
                name = bpm_cabinet_minister
                value = owner.institution:institution_police.type
            }
        }
        clear_variable_list = bpm_CAB_char_select_pool
    }

    if = {
        limit = {
            OR = {
                NOT = { has_variable = bpm_is_institution_health_system }
                var:bpm_is_institution_health_system ?= {
                    is_character_alive = no
                }
            }
        }
        bpm_pick_cabinet_minister = yes
        random_in_list = {
            variable = bpm_CAB_char_select_pool
            save_scope_as = actor
        }
        set_variable = {
            name = bpm_is_institution_health_system
            value = scope:actor
        }
        scope:actor = {
            set_variable = {
                name = bpm_cabinet_minister
                value = owner.institution:institution_health_system.type
            }
        }
        clear_variable_list = bpm_CAB_char_select_pool
    }

    if = {
        limit = {
            OR = {
                NOT = { has_variable = bpm_is_institution_home_affairs }
                var:bpm_is_institution_home_affairs ?= {
                    is_character_alive = no
                }
            }
        }
        bpm_pick_cabinet_minister = yes
        random_in_list = {
            variable = bpm_CAB_char_select_pool
            save_scope_as = actor
        }
        set_variable = {
            name = bpm_is_institution_home_affairs
            value = scope:actor
        }
        scope:actor = {
            set_variable = {
                name = bpm_cabinet_minister
                value = owner.institution:institution_home_affairs.type
            }
        }
        clear_variable_list = bpm_CAB_char_select_pool
    }

    if = {
        limit = {
            OR = {
                NOT = { has_variable = bpm_is_institution_centralization }
                var:bpm_is_institution_centralization ?= {
                    is_character_alive = no
                }
            }
        }
        bpm_pick_cabinet_minister = yes
        random_in_list = {
            variable = bpm_CAB_char_select_pool
            save_scope_as = actor
        }
        set_variable = {
            name = bpm_is_institution_centralization
            value = scope:actor
        }
        scope:actor = {
            set_variable = {
                name = bpm_cabinet_minister
                value = owner.institution:institution_centralization.type
            }
        }
        clear_variable_list = bpm_CAB_char_select_pool
    }

    if = {
        limit = {
            OR = {
                NOT = { has_variable = bpm_is_institution_suffrage }
                var:bpm_is_institution_suffrage ?= {
                    is_character_alive = no
                }
            }
        }
        bpm_pick_cabinet_minister = yes
        random_in_list = {
            variable = bpm_CAB_char_select_pool
            save_scope_as = actor
        }
        set_variable = {
            name = bpm_is_institution_suffrage
            value = scope:actor
        }
        scope:actor = {
            set_variable = {
                name = bpm_cabinet_minister
                value = owner.institution:institution_suffrage.type
            }
        }
        clear_variable_list = bpm_CAB_char_select_pool
    }

    if = {
        limit = {
            OR = {
                NOT = { has_variable = bpm_is_institution_culture }
                var:bpm_is_institution_culture ?= {
                    is_character_alive = no
                }
            }
        }
        bpm_pick_cabinet_minister = yes
        random_in_list = {
            variable = bpm_CAB_char_select_pool
            save_scope_as = actor
        }
        set_variable = {
            name = bpm_is_institution_culture
            value = scope:actor
        }
        scope:actor = {
            set_variable = {
                name = bpm_cabinet_minister
                value = owner.institution:institution_culture.type
            }
        }
        clear_variable_list = bpm_CAB_char_select_pool
    }

}