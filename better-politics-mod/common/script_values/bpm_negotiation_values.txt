bpm_negotiation_support = {
	value = 0
	if = {
		limit = {
			has_variable = bpm_negotiation_support_raw_cached
		}
		add = {
			value = var:bpm_negotiation_support_raw_cached
			desc = "bpm_negotiation_from_law_support"
		}
	}

	if = {
		limit = {
			bpm_ig_is_institutional = yes
		}
		add = {
			value = -25
			desc = "bpm_negotiation_from_inertia"
		}
	}

	if = {
		limit = {
			has_variable = bpm_pm_promised_ig
		}
		add = {
			value = bpm_law_sway_pm_effect_value
			desc = "bpm_negotiation_from_pm_promise"
		}
	}

	if = {
		limit = {
			owner = { has_journal_entry = je_bpm_concession_military }
			is_interest_group_type = ig_armed_forces
		}
		add = {
			value = bpm_law_sway_military_concessions_effect_value
			desc = "bpm_negotiation_from_military_concessions"
		}
	}
}

bpm_negotiation_support_raw = {
	value = 0
	if = {
		limit = {
			law_stance = {
				law = scope:selected_law_type
				value = strongly_approve
			}
		}
		add = 2
	}
	else_if = {
		limit = {
			law_stance = {
				law = scope:selected_law_type
				value = approve
			}
		}
		add = 1
	}
	else_if = {
		limit = {owner.variable_list_size\(
			law_stance = {
				law = scope:selected_law_type
				value = disapprove
			}
		}
		add = -1
	}
	else_if = {
		limit = {
			law_stance = {
				law = scope:selected_law_type
				value = strongly_disapprove
			}
		}
		add = -2
	}
	divide = 2
	
	multiply = 50
	min = -50
	max = 50
}


bpm_total_negotiation_support_bonus_ing = {
	every_interest_group = {
		limit = {
			bpm_ig_is_institutional = yes
			bpm_negotiation_support > 0
		}
		add = 1
	}
}

bpm_total_negotiation_support_bonus_idg = {
	every_interest_group = {
		limit = {
			bpm_ig_is_institutional = no
			bpm_negotiation_support > 0
		}
		add = ig_clout
	}
}

bpm_total_negotiation_support_bonus = {
	add = {
		value = bpm_total_negotiation_support_bonus_ing
		desc = "bpm_negotiation_from_ing_influence"
	}

	multiply = {
		value = 1
		add = {
			value = bpm_total_negotiation_support_bonus_idg
			desc = "bpm_negotiation_from_idg_influence"
		}
	}
}

bpm_draft_support_ninja = {
	value = 0
	subtract = {
		value = 50
	}
	if = {
		limit = {
			has_variable = bpm_revolutionary_fervor
		}
		add = {
			value = 100
		}
	}
	if = {
		limit = {
			has_variable = bpm_negotiation_support_raw_cached
		}
		add = {
			value = var:bpm_negotiation_support_raw_cached
			if = {
				limit = {
					var:bpm_negotiation_support_raw_cached < 0
				}
				multiply = 2
			}
		}
	}

}

bpm_draft_support = {
	value = 0
	subtract = {
		value = 50
		desc = "bpm_codification_decree_support_from_base"
	}
	if = {
		limit = {
			has_variable = bpm_revolutionary_fervor
		}
		add = {
			value = 100
			desc = "bpm_codification_decree_support_from_revolutionary_fervor"
		}
	}
	if = {
		limit = {
			has_variable = bpm_negotiation_support_raw_cached
		}
		add = {
			value = var:bpm_negotiation_support_raw_cached
			if = {
				limit = {
					var:bpm_negotiation_support_raw_cached < 0
				}
				multiply = 4
			}
			desc = "bpm_codification_decree_support_from_law_support"
		}
	}


	multiply = {
		value = 1
		add = {
			value = 0
			if = {
				limit = {
					owner = { variable_list_size = {
						name = bpm_negotiation_targets
						value = 1
					} }
				}
				add = 0.1
			}
			else_if = {
				limit = {
					owner = { variable_list_size = {
						name = bpm_negotiation_targets
						value = 2
					}
				} }
				add = 0.2
			}
			else_if = {
				limit = {
					owner = { variable_list_size = {
						name = bpm_negotiation_targets
						value = 3
					} }
				}
				add = 0.3
			}
			else_if = {
				limit = {
					owner = { variable_list_size = {
						name = bpm_negotiation_targets
						value = 4
					} }
				}
				add = 0.4
			}
			else_if = {
				limit = {
					owner = { variable_list_size = {
						name = bpm_negotiation_targets
						value = 5
					} }
				}
				add = 0.5
			}
			else_if = {
				limit = {
					owner = { variable_list_size = {
						name = bpm_negotiation_targets
						value = 6
					} }
				}
				add = 0.6
			}
			else_if = {
				limit = {
					owner = { variable_list_size = {
						name = bpm_negotiation_targets
						value = 7
					} }
				}
				add = 0.7
			}
			else_if = {
				limit = {
					owner = { variable_list_size = {
						name = bpm_negotiation_targets
						value = 8
					} }
				}
				add = 0.8
			}
			else_if = {
				limit = {
					owner = { variable_list_size = {
						name = bpm_negotiation_targets
						value = 9
					} }
				}
				add = 0.9
			}
			else_if = {
				limit = {
					owner = { variable_list_size = {
						name = bpm_negotiation_targets
						value >= 10
					} }
				}
				add = 1
			}
			if = {
				limit = {
					bpm_draft_support_ninja > 0
				}
				multiply = -1
			}
		}
		desc = "bpm_codification_decree_support_from_law_count"
	}

	if = {
		limit = {
			bpm_draft_support_ninja = 0 
		}
		if = {
			limit = {
				owner = { variable_list_size = {
					name = bpm_negotiation_targets
					value = 1
				} }
			}
			add = -10
		}
		else_if = {
			limit = {
				owner = { variable_list_size = {
					name = bpm_negotiation_targets
					value = 2
				}
			} }
			add = -20
		}
		else_if = {
			limit = {
				owner = { variable_list_size = {
					name = bpm_negotiation_targets
					value = 3
				} }
			}
			add = -30
		}
		else_if = {
			limit = {
				owner = { variable_list_size = {
					name = bpm_negotiation_targets
					value = 4
				} }
			}
			add = -40
		}
		else_if = {
			limit = {
				owner = { variable_list_size = {
					name = bpm_negotiation_targets
					value = 5
				} }
			}
			add = -50
		}
		else_if = {
			limit = {
				owner = { variable_list_size = {
					name = bpm_negotiation_targets
					value = 6
				} }
			}
			add = -60
		}
		else_if = {
			limit = {
				owner = { variable_list_size = {
					name = bpm_negotiation_targets
					value = 7
				} }
			}
			add = -70
		}
		else_if = {
			limit = {
				owner = { variable_list_size = {
					name = bpm_negotiation_targets
					value = 8
				} }
			}
			add = -80
		}
		else_if = {
			limit = {
				owner = { variable_list_size = {
					name = bpm_negotiation_targets
					value = 9
				} }
			}
			add = -90
		}
		else_if = {
			limit = {
				owner = { variable_list_size = {
					name = bpm_negotiation_targets
					value >= 10
				} }
			}
			add = -100
		}
	}

}