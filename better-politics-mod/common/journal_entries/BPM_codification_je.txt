je_codifying_constitution = {
	icon = "gfx/interface/main_hud/journal_btn.dds"

	group = je_group_historical_content

	complete = {
		OR = {
			has_law = law_type:law_supreme_legislature
			AND = {
				custom_tooltip = {
					text = bpm_executive_principle_is_constitutional_law
					active_law:lawgroup_executive_principles = {
						bpm_codification_is_constitutional_law = yes
					}
				}
				custom_tooltip = {
					text = bpm_legislative_principle_is_constitutional_law
					active_law:lawgroup_legislative_principles = {
						bpm_codification_is_constitutional_law = yes
					}
				}
				custom_tooltip = {
					text = bpm_governance_principle_is_constitutional_law
					active_law:lawgroup_governance_principles = {
						bpm_codification_is_constitutional_law = yes
					}
				}
			}
		}
	}

	is_shown_when_inactive = {
		NOR = {
			has_law = law_type:law_supreme_legislature
			AND = {
				custom_tooltip = {
					text = bpm_executive_principle_is_not_constitutional_law
					active_law:lawgroup_executive_principles = {
						bpm_codification_is_constitutional_law = yes
					}
				}
				custom_tooltip = {
					text = bpm_legislative_principle_is_not_constitutional_law
					active_law:lawgroup_legislative_principles = {
						bpm_codification_is_constitutional_law = yes
					}
				}
				custom_tooltip = {
					text = bpm_governance_principle_is_not_constitutional_law
					active_law:lawgroup_governance_principles = {
						bpm_codification_is_constitutional_law = yes
					}
				}
			}
		}
	}

	possible = {
		trigger_if = {
			limit = {
				NOT = { 
					has_law = law_type:law_monarchy
				}
			}
			ig:ig_armed_forces = {
				ig_clout < 0.2
			}
			ig:ig_reactionaries = {
				ig_clout < 0.2
			}
		}
		trigger_else_if = {
			limit = { NOT = {
				has_journal_entry = je_bpm_confucian_state
			} }
			ig:ig_landowners = {
				ig_clout < 0.2
			}
		}
		trigger_else = {
			ig:ig_petty_bourgeoisie = {
				ig_clout < 0.2
			}
		}
		NOR = {
			has_law = law_type:law_supreme_legislature
			AND = {
				custom_tooltip = {
					text = bpm_executive_principle_is_not_constitutional_law
					active_law:lawgroup_executive_principles = {
						bpm_codification_is_constitutional_law = yes
					}
				}
				custom_tooltip = {
					text = bpm_legislative_principle_is_not_constitutional_law
					active_law:lawgroup_legislative_principles = {
						bpm_codification_is_constitutional_law = yes
					}
				}
				custom_tooltip = {
					text = bpm_governance_principle_is_not_constitutional_law
					active_law:lawgroup_governance_principles = {
						bpm_codification_is_constitutional_law = yes
					}
				}
			}
		}
	}

	on_complete = {
		add_loyalists = {
			strata = middle
			value = 0.1
		}
		add_loyalists = {
			pop_type = bureaucrats
			value = 0.15
		}
		add_radicals = {
			pop_type = aristocrats
			value = 0.05
		}
		add_modifier = {
			name = bpm_constitutional_convention
			months = very_long_modifier_time
			is_decaying = yes
		}
	}

	on_monthly_pulse = {

	}

	should_be_pinned_by_default = yes
	
	can_revolution_inherit = no
}