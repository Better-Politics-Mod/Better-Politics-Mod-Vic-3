## Reorganize Mark


bpm_form_government_move_right = {
    scope = country
    is_shown = {
    }
    is_valid = {
    }
    effect = {
        change_variable = {
            name = bpm_choose_headofgov_carousel
            add = 1
        }
        if = {
            limit = {
                variable_list_size = {
                    name = bpm_potential_headofgov
                    value = var:bpm_choose_headofgov_carousel
                } 
            }
            set_variable = {
                name = bpm_choose_headofgov_carousel
                value = 0
            }
        }
    }
}

bpm_form_government_move_left = {
    scope = country
    is_shown = {
    }
    is_valid = {
        var:bpm_choose_headofgov_carousel > 0
    }
    effect = {
        change_variable = {
            name = bpm_choose_headofgov_carousel
            add = -1
        }
        if = {
            limit = {
                var:bpm_choose_headofgov_carousel < 0
            }
            set_variable = {
                name = bpm_choose_headofgov_carousel
                value = 0
            }
        }
    }
}

#### MARK: Verify if the party is set as in government
#### before changing the vote counter
#### Also reset the vote counter on start 

bpm_remove_party_from_government = {
    scope = country
    saved_scopes = {
        selected_party
        votes
    }
    is_shown = {
    }
    is_valid = {
    }
    effect = {
        remove_list_variable = {
            name = bpm_in_gov_party_sel
            target = scope:selected_party
        }
        if = {
            limit = {
                has_variable = bpm_in_gov_party_sel_votes
            }
            change_variable = {
                name = bpm_in_gov_party_sel_votes
                subtract = scope:votes
            }
        }
        bpm_calculate_selected_government_interparty_hostility = yes
    }
}


bpm_add_party_to_government = {
    scope = country
    saved_scopes = {
        selected_party
        votes
    }
    is_shown = {
    }
    is_valid = {
    }
    effect = {
        add_to_variable_list = {
            name = bpm_in_gov_party_sel
            target = scope:selected_party
        }
        if = {
            limit = {
                has_variable = bpm_in_gov_party_sel_votes
            }
            change_variable = {
                name = bpm_in_gov_party_sel_votes
                add = scope:votes
            }
        }
        else = {
            set_variable = {
                name = bpm_in_gov_party_sel_votes
                value = scope:votes
            }
        }
        bpm_calculate_selected_government_interparty_hostility = yes
    }
}

bpm_any_party_selected = {
    scope = country
    is_shown = {
    }
    is_valid = {
        NOR = {
            NOT = { has_variable_list = bpm_in_gov_party_sel }
            variable_list_size = {
                name = bpm_in_gov_party_sel
                value = 0
            }
        }
    }
    effect = {
    }
}

bpm_party_is_in_gov_sel = {
    scope = country
    saved_scopes = {
        selected_party
    }
    is_shown = {
    }
    is_valid = {
        has_variable_list = bpm_in_gov_party_sel
        is_target_in_variable_list = {
            name = bpm_in_gov_party_sel
            target = scope:selected_party
        }
    }
    effect = {
    }
}