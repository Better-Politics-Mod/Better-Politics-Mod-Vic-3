# PROLETARIAN IGS

bpm_ig_is_revolutionary_socialist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_revolutionary_socialist"
		has_ideology = ideology:ideology_gov_radical_proletarian
		NOT = {
			has_ideology = ideology:ideology_dop_anarchist
		}
	}
}

bpm_ig_is_anarchist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_anarchist"
		OR = {
			has_ideology = ideology:ideology_dop_anarchist
		}
	}
}

bpm_ig_is_radical_socialist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_radical_socialist"
		OR = {
			is_interest_group_type = ig_socialists
			bpm_ig_is_revolutionary_socialist = yes
			bpm_ig_is_anarchist = yes
		}
	}
}

bpm_ig_is_reformist_socialist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_reformist_socialist"
		OR = {
			is_interest_group_type = ig_reformist_socialists
			has_ideology = ideology:ideology_gov_moderate_proletarian
		}
	}
}

bpm_ig_is_party_socialist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_party_socialist"
		OR = {
			is_interest_group_type = ig_socialists
			bpm_ig_is_revolutionary_socialist = yes
			bpm_ig_is_reformist_socialist = yes
		}
	}
}

bpm_ig_is_authoritarian_socialist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_authoritarian_socialist"
		bpm_ig_is_socialist = yes
		OR = {
			has_ideology = ideology:ideology_dop_party_socialist
			has_ideology = ideology:ideology_dop_party_state
		}
	}
}

bpm_ig_is_moderate_socialist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_moderate_socialist"
		OR = {
			has_ideology = ideology:ideology_eco_agrarian_socialist
			AND = {
				bpm_ig_is_party_socialist = yes
				NOR = {
					has_ideology = ideology:ideology_gov_radical_proletarian
					has_ideology = ideology:ideology_gov_moderate_proletarian
				}
			}
		}
	}
}

bpm_ig_is_proletarian_socialist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_proletarian_socialist"
		OR = {
			bpm_ig_is_party_socialist = yes
			bpm_ig_is_anarchist = yes
		}
	}
}

bpm_ig_is_socialist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_socialist"
		OR = {
			bpm_ig_is_proletarian_socialist = yes
			has_ideology = ideology:ideology_eco_agrarian_socialist
		}
	}
}

bpm_ig_is_proletarian = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_proletarian"
		OR = {
			is_interest_group_type = ig_trade_unions
			bpm_ig_is_proletarian_socialist = yes
		}
	}
}

bpm_ig_is_labor = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_labor"
		OR = {
			bpm_ig_is_socialist = yes
			bpm_ig_is_proletarian = yes
		}
	}
}

bpm_ig_is_actually_desiring_socialism = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_actually_desiring_socialism"
		bpm_ig_is_socialist = yes
		bpm_ig_is_moderate_socialist = no
	}
}

bpm_ig_is_socialist_trade_unions = {
	is_interest_group_type = ig_trade_unions
	leader = { bpm_leader_is_socialist = yes }
}

# AGRARIAN IGS

bpm_ig_is_agrarian = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_agrarian"
		OR = {
			has_ideology = ideology:ideology_eco_agrarian_socialist
			has_ideology = ideology:ideology_eco_modern_agrarian
			has_ideology = ideology:ideology_eco_traditional_agrarian
			has_ideology = ideology:ideology_eco_slave_economy
			has_ideology = ideology:ideology_eco_serf_economy
		}
	}
}

bpm_ig_wants_small_government = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_wants_small_government"
		OR = {
			has_ideology = ideology:ideology_sta_minimal_state
			has_ideology = ideology:ideology_sta_decentralized_state
			has_ideology = ideology:ideology_sta_subjugated_state
		}
	}
}

# LIBERAL IGS

bpm_ig_is_democrat = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_democrat"
		OR = {
			has_ideology = ideology:ideology_dop_radical_democrat
			has_ideology = ideology:ideology_dop_moderate_democrat
			has_ideology = ideology:ideology_dop_authoritarian_democrat
		}
	}
}

bpm_ig_is_republican = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_republican"
		OR = {
			has_ideology = ideology:ideology_gov_liberal_republican
			has_ideology = ideology:ideology_gov_radical_republican
		}
	}
}

bpm_ig_is_radical_liberal = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_radical_liberal"
		OR = {
			is_interest_group_type = ig_radicals
			AND = {
				has_ideology = ideology:ideology_dop_radical_democrat
				bpm_ig_is_actually_desiring_socialism = no
			}
		}
	}
}

bpm_ig_is_moderate_liberal = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_moderate_liberal"
		OR = {
			is_interest_group_type = ig_liberals
			has_ideology = ideology:ideology_dop_moderate_democrat
		}
		NOT = { is_interest_group_type = ig_conservatives }
	}
}

bpm_ig_is_non_religious = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_non_religious"
		OR = {
			has_ideology = ideology:ideology_rel_secularist
			has_ideology = ideology:ideology_rel_atheist
		}
	}
}

bpm_ig_is_liberal = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_liberal"
		OR = {
			bpm_ig_is_radical_liberal = yes
			bpm_ig_is_moderate_liberal = yes
			is_interest_group_type = ig_market_liberals
			is_interest_group_type = ig_national_liberals
		}
	}
}

bpm_ig_is_radical_left = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_radical_left"
		OR = {
			bpm_ig_is_radical_liberal = yes
			bpm_ig_is_socialist = yes
		}
	}
}

bpm_ig_is_abolitionist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_abolitionist"
		OR = {
			bpm_ig_is_radical_left = yes
			has_ideology = ideology:ideology_eco_modern_agrarian
			has_ideology = ideology:ideology_eco_modernizer
		}
	}
}

bpm_ig_is_left_wing = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_left_wing"
		OR = {
			bpm_ig_is_liberal = yes
			bpm_ig_is_labor = yes
		}
	}
}

bpm_ig_is_pro_public_welfare = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_pro_welfare"
		OR = {
			has_ideology = ideology:ideology_wel_public_welfare
			has_ideology = ideology:ideology_wel_expanded_public_welfare
		}
	}
}

bpm_ig_is_market_liberal = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_market_liberal"
		OR = {
			has_ideology = ideology:ideology_eco_laissez_faire
		}
	}
}

# CONSERVATIVE IGS

bpm_ig_is_anti_welfare = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_anti_welfare"
		OR = {
			has_ideology = ideology:ideology_eco_laissez_faire
			has_ideology = ideology:ideology_wel_market_welfare
			has_ideology = ideology:ideology_wel_no_welfare
		}
	}
}

bpm_ig_is_mainstream_conservative = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_mainstream_conservative"
		OR = {
			is_interest_group_type = ig_conservatives
		}
	}
}

bpm_ig_is_liberal_conservative = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_liberal_conservative"
		OR = {
			is_interest_group_type = ig_national_liberals
			is_interest_group_type = ig_market_liberals
			AND = {
				is_interest_group_type = ig_conservatives
				has_ideology = ideology:ideology_wel_paternalistic_welfare
			}
		}
	}
}

bpm_ig_is_non_paternal_conservative = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_non_paternal_conserative"
		is_interest_group_type = ig_conservatives
		NOT = { has_ideology = ideology:ideology_wel_paternalistic_welfare }
	}

}

bpm_ig_is_moderate_conservative = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_moderate_conservative"
		OR = {
			bpm_ig_is_mainstream_conservative = yes
			has_ideology = ideology:ideology_dop_authoritarian_democrat
		}
	}
}

bpm_ig_is_militaristic = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_militaristic"
		OR = {
			has_ideology = ideology:ideology_jingoist
			has_ideology = ideology:ideology_mil_aristocratic_militarist
			has_ideology = ideology:ideology_mil_mass_army
			has_ideology = ideology:ideology_mil_emergency
		}
	}
}

bpm_ig_is_patriotic = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_patriotic"
		OR = {
			bpm_ig_is_militaristic = yes
			has_ideology = ideology:ideology_mil_frontier_expansion
			has_ideology = ideology:ideology_mil_patriotic
		}
	}
}

bpm_ig_is_sexist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_sexist"
		OR = {
			bpm_ig_is_very_sexist = yes
			has_ideology = ideology:ideology_fem_benevolent_sexism
		}
	}
}

bpm_ig_is_very_sexist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_very_sexist"
		OR = {
			has_ideology = ideology:ideology_fem_patriarchal
			has_ideology = ideology:ideology_fem_moderate_patriarchal
		}
	}
}

bpm_ig_is_monarchist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_monarchist"
		OR = {
			has_ideology = ideology:ideology_gov_radical_monarchist
			has_ideology = ideology:ideology_gov_moderate_monarchist
		}
	}
}

bpm_ig_is_autocratic = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_autocratic"
		OR = {
			has_ideology = ideology:ideology_dop_technocrat
			has_ideology = ideology:ideology_dop_meritocratic_autocrat
			has_ideology = ideology:ideology_dop_party_state
			has_ideology = ideology:ideology_dop_party_socialist
			has_ideology = ideology:ideology_dop_dissent
			has_ideology = ideology:ideology_dop_traditional_power
			has_ideology = ideology:ideology_dop_oligarch
			has_ideology = ideology:ideology_dop_autocrat
		}
	}
}

# TRADITIONALIST IGS

bpm_ig_is_theocratic = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_theocratic"
		OR = {
			has_ideology = ideology:ideology_gov_theocrat
		}
	}
}

bpm_ig_is_traditionalist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_traditionalist"
		OR = {
			bpm_ig_is_theocratic = yes
			is_interest_group_type = ig_reactionaries
			has_ideology = ideology:ideology_dop_autocrat
			has_ideology = ideology:ideology_dop_oligarch
			has_ideology = ideology:ideology_gov_radical_monarchist
		}
	}
}

# FASCIST IGS

bpm_ig_is_fascist = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_fascist"
		OR = {
			is_interest_group_type = ig_fascists
		}
	}
}

bpm_ig_is_radical_right = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_radical_right"
		OR = {
			bpm_ig_is_traditionalist = yes
			bpm_ig_is_fascist = yes
		}
	}
}

bpm_ig_is_right_wing = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_right_wing"
		OR = {
			bpm_ig_is_radical_right = yes
			bpm_ig_is_moderate_conservative = yes
		}
	}
}

# INSTITUTIONAL IGS

bpm_ig_is_ideological = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_ideological"
		bpm_ig_is_institutional = no
	}
}

bpm_ig_is_institutional = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_institutional"
		OR = {
			is_interest_group_type = ig_armed_forces
			is_interest_group_type = ig_devout
			is_interest_group_type = ig_industrialists
			is_interest_group_type = ig_intelligentsia
			is_interest_group_type = ig_landowners
			is_interest_group_type = ig_petty_bourgeoisie
			is_interest_group_type = ig_rural_folk
			is_interest_group_type = ig_trade_unions
		}
	}
}

bpm_ig_is_urban_institutional = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_urban_institutional"
		OR = {
			is_interest_group_type = ig_industrialists
			is_interest_group_type = ig_intelligentsia
			is_interest_group_type = ig_petty_bourgeoisie
			is_interest_group_type = ig_trade_unions
		}
	}
}

bpm_ig_is_rural_institutional = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_rural_institutional"
		OR = {
			is_interest_group_type = ig_devout
			is_interest_group_type = ig_landowners
			is_interest_group_type = ig_rural_folk
		}
	}
}

bpm_ig_is_state_institutional = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_state_institutional"
		OR = {
			is_interest_group_type = ig_armed_forces
			is_interest_group_type = ig_petty_bourgeoisie
			AND = {
				is_interest_group_type = ig_devout
				owner = { has_law = law_type:law_theocracy }
			}
		}
	}
}

bpm_ig_is_upper_institutional = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_upper_institutional"
		OR = {
			is_interest_group_type = ig_industrialists
			is_interest_group_type = ig_landowners
		}
	}
}

bpm_ig_is_middle_institutional = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_middle_institutional"
		OR = {
			is_interest_group_type = ig_armed_forces
			is_interest_group_type = ig_devout
			is_interest_group_type = ig_intelligentsia
			is_interest_group_type = ig_petty_bourgeoisie
		}
	}
}

bpm_ig_is_lower_institutional = {
	custom_tooltip = {
		text = "tooltip_bpm_ig_is_lower_institutional"
		OR = {
			is_interest_group_type = ig_rural_folk
			is_interest_group_type = ig_trade_unions
		}
	}
}

# IG ANTI-ELECTORALISM

bpm_ig_is_strongly_anti_electoralist_socialist = {
	AND = {
		# No anti-electoralism in a socialist state by socialists
		NOR = {
			bpm_ig_is_socialist = no
			owner = { has_law = law_type:law_council_republic }
		}

		OR = {
			# Anarchists are always strongly anti-electoralist
			AND = {
				bpm_ig_is_anarchist = yes
				OR = {
					NOT = { owner = { has_journal_entry = je_bpm_socialist_electoralism } }
					owner.var:bpm_je_socialist_electoralism < 75
				}
			}

			# Revolutionary socialists dislike electoralism
			AND = {
				bpm_ig_is_revolutionary_socialist = yes
				OR = {
					NOT = { owner = { has_journal_entry = je_bpm_socialist_electoralism } }
					owner.var:bpm_je_socialist_electoralism < 25
				}
			}
		}
	}
}

bpm_ig_is_anti_electoralist_socialist = {
	AND = {
		
		NOR = {
			bpm_ig_is_socialist = no # Can't be anti-electoralist socialist if you aren't a socialist
			owner = { has_law = law_type:law_council_republic } # No anti-electoralism in a socialist state by socialists
			bpm_ig_is_strongly_anti_electoralist_socialist = yes # We are strongly anti-electoralist instead
		}

		OR = {
			# Anarchists becoming fully electoralist is very rare
			AND = {
				bpm_ig_is_anarchist = yes
				OR = {
					NOT = { owner = { has_journal_entry = je_bpm_socialist_electoralism } }
					owner.var:bpm_je_socialist_electoralism < 90
				}
			}

			# Revolutionary socialists favor electoralism in good conditions
			AND = {
				bpm_ig_is_revolutionary_socialist = yes
				OR = {
					NOT = { owner = { has_journal_entry = je_bpm_socialist_electoralism } }
					owner.var:bpm_je_socialist_electoralism < 40
				}
			}

			# Reformist socialists require a lot to become mildly anti-electoralist
			AND = {
				bpm_ig_is_reformist_socialist = yes
				owner = { has_journal_entry = je_bpm_socialist_electoralism } # Reformsts are electoralist by default without the journal entry
				owner.var:bpm_je_socialist_electoralism < 10
			}
		}
	}
}

bpm_ig_enabled = {
	NOT = { has_ideology = ideology:ideology_nonexistent }
}

# IG STANCE ON GOVERNMENT

# The IGs that are radical opposition propose very different alternative to status quo
bpm_ig_is_radical_opposition = {
	OR = {
		# Non-council republic: Socialists are Radical Opposition
		AND = {
			owner = { NOT = { has_law = law_type:law_council_republic } }
			bpm_ig_is_socialist = yes
		}

		# Fascists: Fascists are always Radical Opposition, tbh 
		bpm_ig_is_fascist = yes 

		# Council Republic: Non-Socialist, Non-institutional IGs are Radical Opposition
		AND = {
			owner = { has_law = law_type:law_council_republic }
			bpm_ig_is_socialist = no 
			bpm_ig_is_institutional = no
		} 

		# Monarchy: Republicans are Radical Opposition
		AND = {
			owner = { has_law = law_type:law_monarchy }
			bpm_ig_is_republican = yes
		}

		# Non-Democracy: Democrats/Anarchists are Radical Opposition
		AND = {
			owner = { bpm_country_laws_are_very_undemocratic = yes }
			OR = {
				bpm_ig_is_democrat = yes
				bpm_ig_is_anarchist = yes
			}
		}

		# Democracy: Authoritarians are Radical Opposition 
		AND = {
			owner = {
				bpm_country_laws_are_very_undemocratic = no
				bpm_country_laws_are_moderately_undemocratic = no
			}
			bpm_ig_is_autocratic = yes
		}
	}
}

# The IGs that are very radical opposition propose extremely different alternative to status quo; reserved for certain specific IGs
bpm_ig_is_very_radical_opposition = {
	OR = {
		# Non-council republic: Radical Socialists are Radical Opposition/Normal Socialists before second split are very radical opposition
		AND = {
			owner = { NOT = { has_law = law_type:law_council_republic } }
			OR = {
				bpm_ig_is_radical_socialist = yes 
				AND = {
					bpm_ig_is_socialist = yes
					NOT = { has_global_variable = second_intl_chain_complete_var }
				}
			}
		}

		# Fascists: Fascists are always Very Radical Opposition, tbh 
		bpm_ig_is_fascist = yes 

		# Council Republic: Market Liberal IGs are Very Radical Opposition in Council Republics
		AND = {
			owner = { has_law = law_type:law_council_republic }
			bpm_ig_is_market_liberal = yes
		} 

		# Non-Democracy: Radical Liberals/Anarchists are Very Radical Opposition
		AND = {
			owner = { bpm_country_laws_are_very_undemocratic = yes }
			OR = {
				bpm_ig_is_radical_liberal = yes
				bpm_ig_is_anarchist = yes
			}
		}
	}
}
