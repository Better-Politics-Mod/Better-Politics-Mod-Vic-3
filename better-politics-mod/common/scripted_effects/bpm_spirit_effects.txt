##########################
#### AUX FUNCTIONS
##########################

# Spirit spend functions spend defined spirit amounts and apply proportional chaos increase
bpm_spirit_spend = {
	change_variable = {
		name = bpm_spirit_var
		subtract = $AMT$
	}
	clamp_variable = {
		name = bpm_spirit_var
		min = 0
		max = 1000000
	}
	change_variable = {
		name = bpm_chaos_var
		add = {
			value = $AMT$
			multiply = bpm_chaos_per_spirit_spent
		}
	}
	clamp_variable = {
		name = bpm_chaos_var
		min = bpm_chaos_min
		max = bpm_chaos_max
	}
}

bpm_spirit_spend_small = {
	custom_tooltip = {
		text = "bpm_spirit_spend_small_tt"
		bpm_spirit_spend = {
			AMT = bpm_spirit_amount_small
		}
	}
}

bpm_spirit_spend_large = {
	custom_tooltip = {
		text = "bpm_spirit_spend_large_tt"
		bpm_spirit_spend = {
			AMT = bpm_spirit_amount_large
		}
	}
}

bpm_spirit_spend_huge = {
	custom_tooltip = {
		text = "bpm_spirit_spend_huge_tt"
		bpm_spirit_spend = {
			AMT = bpm_spirit_amount_huge
		}
	}
}

# Spirit gain functions grant player spirit, including putting it over the maximum (this just makes player not gain passive spirit)
bpm_spirit_gain_normal = {
	custom_tooltip = {
		text = "bpm_spirit_gain_normal_tt"
		change_variable = {
			name = bpm_spirit_var
			add = bpm_spirit_amount_small
		}
	}
}

bpm_spirit_gain_large = {
	custom_tooltip = {
		text = "bpm_spirit_gain_large_tt"
		change_variable = {
			name = bpm_spirit_var
			add = bpm_spirit_amount_large
		}
	}
}

bpm_spirit_gain_huge = {
	custom_tooltip = {
		text = "bpm_spirit_gain_huge_tt"
		change_variable = {
			name = bpm_spirit_var
			add = bpm_spirit_amount_huge
		}
	}
}