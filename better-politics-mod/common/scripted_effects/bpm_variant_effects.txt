bpm_update_variants = {
	bpm_update_liberal_variant = yes
	bpm_update_trade_unions_variant = yes
}
bpm_update_liberal_variant = {
	if = {
		limit = {
			NOT = {
				THIS = c:USA
			}
		}
		ig:ig_liberals = {
			if = {
				limit = {
					has_variable = bpm_largest_faction
					var:bpm_largest_faction = {
						is_political_movement_type = movement_religious_majority
					}
				}
				bpm_remove_all_rel_ideologies = yes
				add_ideology = ideology_rel_moralist
				bpm_reorder_ideologies = yes	
			}
			else_if = {
				limit = {
					has_ideology = ideology:ideology_rel_moralist
				}
				bpm_remove_all_rel_ideologies = yes
				add_ideology = ideology_rel_secularist
				bpm_reorder_ideologies = yes	
			}
		}
	}
}

bpm_update_trade_unions_variant = {
	if = {
		limit = {
			NOT = {
				THIS = c:USA
			}
		}
		ig:ig_trade_unions = {
			if = {
				limit = {
					has_variable = bpm_largest_faction
					var:bpm_largest_faction = {
						OR = { 
							is_political_movement_type = movement_religious_majority
							is_political_movement_type = movement_cultural_majority 
							is_political_movement_type = movement_national_liberal
						}
					}
				}
				bpm_remove_all_sta_ideologies = yes
				bpm_remove_all_dop_ideologies = yes
				add_ideology = ideology_sta_powerful_state
				add_ideology = ideology_dop_authoritarian_democrat
				bpm_reorder_ideologies = yes	
			}
			else_if = {
				limit = {
					OR = {
						has_ideology = ideology:ideology_dop_authoritarian_democrat
						has_ideology = ideology:ideology_sta_powerful_state
					}
				}
				bpm_remove_all_sta_ideologies = yes
				bpm_remove_all_dop_ideologies = yes
				add_ideology = ideology_sta_progressive_state
				add_ideology = ideology_dop_unionist

				bpm_reorder_ideologies = yes	
			}
		}
	}
}