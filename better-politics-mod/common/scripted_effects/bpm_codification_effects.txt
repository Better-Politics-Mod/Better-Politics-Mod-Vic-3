bpm_codification_set_traditional = {
    scope:associated_country = { add_to_variable_list = {
        name = bpm_codification_traditional_laws
        target = prev
    } 
    remove_list_variable = {
        name = bpm_codification_decree_laws
        target = prev
    }
    remove_list_variable = {
        name = bpm_codification_legal_laws
        target = prev
    }
    remove_list_variable = {
        name = bpm_codification_constitutional_laws
        target = prev
    }
    }
}

bpm_codification_set_decree = {
    scope:associated_country = { add_to_variable_list = {
        name = bpm_codification_decree_laws
        target = prev
    } 
    remove_list_variable = {
        name = bpm_codification_traditional_laws
        target = prev
    }
    remove_list_variable = {
        name = bpm_codification_legal_laws
        target = prev
    }
    remove_list_variable = {
        name = bpm_codification_constitutional_laws
        target = prev
    }
    }
}

bpm_codification_set_legal = {
    scope:associated_country = { add_to_variable_list = {
        name = bpm_codification_legal_laws
        target = prev
    } 
    remove_list_variable = {
        name = bpm_codification_traditional_laws
        target = prev
    } 
    remove_list_variable = {
        name = bpm_codification_decree_laws
        target = prev
    } 
    remove_list_variable = {
        name = bpm_codification_constitutional_laws
        target = prev
    }
    }
}

bpm_codification_set_constitutional = {
    scope:associated_country = { add_to_variable_list = {
        name = bpm_codification_constitutional_laws
        target = prev
    } 
    remove_list_variable = {
        name = bpm_codification_traditional_laws
        target = prev
    }
    remove_list_variable = {
        name = bpm_codification_decree_laws
        target = prev
    } 
    remove_list_variable = {
        name = bpm_codification_legal_laws
        target = prev
    }
    }
}

bpm_codification_mark_as_possible_traditional = {
    add_to_global_variable_list = {
        name = bpm_codification_possible_traditional_laws
        target = this
    }
}

bpm_codification_mark_as_possible_decree = {
    add_to_global_variable_list = {
        name = bpm_codification_possible_decree_laws
        target = this
    }
}

bpm_codification_mark_as_possible_legal = {
    add_to_global_variable_list = {
        name = bpm_codification_possible_legal_laws
        target = this
    }
}

bpm_codification_mark_as_possible_constitutional = {
    add_to_global_variable_list = {
        name = bpm_codification_possible_constitutional_laws
        target = this
    }
}

bpm_setup_codification_pre_constitutional = {
    if = {
        limit = { 
            OR = { 
                type = law_type:law_monarchy
                type = { is_same_law_group_as = law_type:law_appointed_on_advice }    
                type = { is_same_law_group_as = law_type:law_advisory_body }    
            }
        }
        type = { 
            bpm_codification_set_traditional = yes
        }
    }
}

bpm_setup_codification = {
    save_scope_as = associated_country
    
    every_law = {
        if = {
            limit = {
                type = { OR = { 
                    is_same_law_group_as = law_type:law_monarchy
                    is_same_law_group_as = law_type:law_advisory_body    
                    is_same_law_group_as = law_type:law_appointed_on_advice
                } }
            }
            type = {
                bpm_codification_set_constitutional = yes
                bpm_codification_mark_as_possible_traditional = yes    
                bpm_codification_mark_as_possible_decree = yes
                bpm_codification_mark_as_possible_legal = yes
                bpm_codification_mark_as_possible_constitutional = yes    
            }
        }
        else_if = {
            limit = {
                type = law_type:law_extraction_economy
            }
            type = {
                bpm_codification_set_constitutional = yes
                bpm_codification_mark_as_possible_decree = yes
                bpm_codification_mark_as_possible_legal = yes
                bpm_codification_mark_as_possible_constitutional = yes    
            }
        }
        else_if = {
            limit = {
                OR = {
                    type = law_type:law_ad_hoc_centralization
                    type = law_type:law_premodern_diplomacy
                    type = law_type:law_traditionalism
                    type = law_type:law_no_police
                    type = law_type:law_no_schools
                    type = law_type:law_no_health_system
                    type = law_type:law_traditional_ostracism
                }
            }
            type = {
                bpm_codification_set_traditional = yes
                bpm_codification_mark_as_possible_traditional = yes    
            }
        }
        else_if = {
            limit = {
                OR = {
                    type = law_type:law_autocracy
                    type = law_type:law_national_supremacy     
                }
            }
            type = {
                bpm_codification_set_traditional = yes
                bpm_codification_mark_as_possible_traditional = yes    
                bpm_codification_mark_as_possible_decree = yes
                bpm_codification_mark_as_possible_legal = yes
                bpm_codification_mark_as_possible_constitutional = yes    
            }
        }
        else_if = {
            limit = {
                type = { OR = { 
                    is_same_law_group_as = law_type:law_ad_hoc_centralization
                    is_same_law_group_as = law_type:law_premodern_diplomacy    
                    is_same_law_group_as = law_type:law_traditionalism
                    is_same_law_group_as = law_type:law_no_police
                    is_same_law_group_as = law_type:law_no_schools    
                    is_same_law_group_as = law_type:law_no_health_system
                    is_same_law_group_as = law_type:law_traditional_ostracism

                } }
            }
            type = {
                bpm_codification_set_legal = yes
                bpm_codification_mark_as_possible_decree = yes
                bpm_codification_mark_as_possible_legal = yes
                bpm_codification_mark_as_possible_constitutional = yes    
            }
        }
        else = {
            type = {
                bpm_codification_set_legal = yes
                bpm_codification_mark_as_possible_traditional = yes    
                bpm_codification_mark_as_possible_decree = yes
                bpm_codification_mark_as_possible_legal = yes
                bpm_codification_mark_as_possible_constitutional = yes    
            }

        }

        if = {
            limit = {
                scope:associated_country = { bpm_country_is_pre_constitutional = yes }
            }
            bpm_setup_codification_pre_constitutional = yes
        }
    }

}