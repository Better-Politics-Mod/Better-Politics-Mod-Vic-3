on_monthly_pulse_country = {
    on_actions = {
        bpm_update_movements_oa
        bpm_update_factions_oa
    }
}

bpm_update_movements_oa = {
    effect = {
        random_political_movement = {
            limit = {
                type = movement_type:movement_liberal
            }
            save_scope_as = movement
        }
        if = {
            limit = {
                exists = scope:movement
            }
            set_variable = {
                name = bpm_liberal_movement
                value = scope:movement
            }
        }
    }
}

bpm_update_factions_oa = { 
    if = {
        limit = {
            is_player = yes 
            game_date > 1836.1.20
        }
        every_interest_group = { 
            save_scope_as = selected_ig
            owner = {
                every_political_movement = {
                    limit = { any_influenced_interest_group = { type = scope:selected_ig.type } }
                    scope:selected_ig = { add_to_variable_list = { ame = bpm_factions target = prev } }
                }
            }
        }
    }
}