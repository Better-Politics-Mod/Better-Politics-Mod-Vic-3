bpm_je_christian_democrat_ideology_rate = {
	value = 0

	add = {
		desc = "BPM_VALUE_FROM_PAPACY"
		if = {
			limit = {
				c:PAP = {
					ruler = {
						has_ideology = ideology:ideology_theocrat
					}
				}
			}
			add = -1.0
		}
		else_if = {
			limit = {
				c:PAP = {
					ruler = {
						has_ideology = ideology:ideology_moderate
					}
				}
			}
			add = 0.3
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_INCLINATION_TOWARDS_MODERATION"
		
		if = {
			limit = {
				scope:journal_entry = {
					"scripted_bar_progress(je_bpm_christian_democrat_ideology_progress_bar)" > 50
				}
			}
			add = -0.2
			multiply = var:christian_democrats_ideology_change
		}
		else_if = {
			limit = {
				scope:journal_entry = {
					"scripted_bar_progress(je_bpm_christian_democrat_ideology_progress_bar)" < 50
				}
			}
			add = 0.2
			multiply = var:christian_democrats_ideology_change
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_LEFTWING_LEADER_AND_AGITATORS"
		every_scope_character = {
			limit = {
				OR = {
					bpm_ig_is_radical_left = yes
					bpm_ig_is_moderate_liberal = yes
				}
				OR = {
					has_role = politician
					has_role = agitator
				}
				NOT = {
					has_ideology = ideology:ideology_uninitialized
				}
			}
			add = popularity
		}
		multiply = 0.005
	}

	add = {
		desc = "BPM_VALUE_FROM_STABILITY"
		add = 1
		if = {
			limit = {
				owner = { var:bpm_political_stability >= 66 }
			}
			subtract = var:bpm_political_stability
			multiply = 0.01
		}
		else_if = {
			limit = {
				owner = { var:bpm_political_stability >= 33 }
			}
			add = var:bpm_political_stability
			multiply = 0.005
		}
		else_if = {
			limit = {
				owner = { var:bpm_political_stability <= 33 }
			}
			add = var:bpm_political_stability
			multiply = 0.015
		}
		multiply = 0.5
	}

	add = {
		desc = "BPM_VALUE_FROM_STRONG_LABOR_LIBERAL_RADICAL_MOVEMENTS"

		if = {
			limit = { 
				has_variable = bpm_labor_movement
                ig:ig_christian_democrats = { 
                	has_variable = bpm_movement_labor_pressure
        		}
				OR = { 
					ig:ig_christian_democrats.var:bpm_movement_labor_pressure > 0.1
					OR = {
						var:bpm_labor_movement.political_movement_support >= 0.1
						var:bpm_labor_movement.political_movement_radicalism >= 0.2
					}
				}
			}
			add = ig:ig_christian_democrats.var:bpm_movement_labor_pressure
		}

		if = {
			limit = { 
				has_variable = bpm_liberal_movement
                ig:ig_christian_democrats = { 
                	has_variable = bpm_movement_liberal_pressure
        		}
				OR = { 
					ig:ig_christian_democrats.var:bpm_movement_liberal_pressure > 0.1
					OR = {
						var:bpm_liberal_movement.political_movement_support >= 0.1
						var:bpm_liberal_movement.political_movement_radicalism >= 0.2
					}
				}
			}
			
			add = ig:ig_christian_democrats.var:bpm_movement_liberal_pressure
		}

		if = {
			limit = { 
				has_variable = bpm_radical_movement
                ig:ig_christian_democrats = { 
                	has_variable = bpm_movement_radical_pressure
        		}
				OR = { 
					ig:ig_christian_democrats.var:bpm_movement_radical_pressure > 0.1
					OR = {
						var:bpm_radical_movement.political_movement_support >= 0.1
						var:bpm_radical_movement.political_movement_radicalism >= 0.2
					}
				}
			}
			add = ig:ig_christian_democrats.var:bpm_movement_labor_pressure
		}

		multiply = 0.75
	}

	add = {
		desc = "BPM_VALUE_FROM_NO_LABOR_UNIONS_LAW"
		if = {
			limit = {
				has_law = law_type:law_all_labor_unions_allowed
			}
			add = 0.1
		}
		if = {
			limit = {
				has_law = law_type:law_limited_labor_unions
			}
			add = 0.2
		}
	}

	add = {
		desc = "BPM_VALUE_STRONG_RADICAL_REPUBLICAN_TENDENCIES"
		every_interest_group = {
			limit = {
				OR = {
					has_ideology = ideology:ideology_dop_radical_democrat
					bpm_ig_is_republican = yes
				}
				NOT = {
					has_ideology = ideology:ideology_nonexistent
				}
			}
			add = ig_clout
		}
		multiply = 2
	}

	add = {
		desc = "BPM_VALUE_FROM_CHRISTIAN_DEMOCRATS_IN_GOVERNMENT"
		every_interest_group = {
			limit = {
				is_interest_group_type = ig_christian_democrats
				is_in_government = yes
				NOT = {
					has_ideology = ideology:ideology_nonexistent
				}
			}
			add = ig_clout
		}
		multiply = 3
	}

	add = {
		desc = "BPM_VALUE_TOO_ILLIBERAL_LAWS"
		if = {
			limit = {
				bpm_country_laws_no_voting = yes
			}
			add = 3
		}
		else_if = {
			limit = {
				bpm_country_laws_are_very_undemocratic = yes
			}
			add = 2
		}
		else_if = {
			limit = {
				bpm_country_laws_are_moderately_undemocratic = yes
			}
			add = 1
		}
		multiply = 0.5
	}

	add = {
		desc = "BPM_VALUE_FROM_POWERFUL_SOCIALISTS_SECULARISTS"
		every_interest_group = {
			limit = {
				OR = {
					bpm_ig_is_socialist = yes
					has_ideology = ideology:ideology_rel_secularist
					has_ideology = ideology:ideology_rel_radical_secularist
				}
				is_powerful = yes
			}
			add = 0.2
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_MORALISTS_IN_GOVERNMENT"
		every_interest_group = {
			limit = {
				bpm_ig_is_religious = yes
				is_in_government = yes
			}
			add = ig_clout
		}
		multiply = -2.5
	}

	add = {
		desc = "BPM_VALUE_FROM_POWERFUL_NATLIB_CON_REACT_IGS"
		every_interest_group = {
			limit = {
				OR = {
					is_interest_group_type = ig_national_liberals
					is_interest_group_type = ig_conservatives
					is_interest_group_type = ig_reactionaries
				}
				is_powerful = yes
				NOT = {
					has_ideology = ideology:ideology_nonexistent
				}
			}
			add = -0.1
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_STATE_RELIGION_LAW"
		if = {
			limit = {
				has_law = law_type:law_state_religion 
			}
			add = 0.2
		}
		else_if = {
			limit = {
				has_law = law_type:law_freedom_of_conscience
			}
			add = 0.1
		}
		else_if = {
			limit = {
				has_law = law_type:law_total_separation
			}
			add = -0.1
		}
		else_if = {
			limit = {
				has_law = law_type:law_state_atheism
			}
			add = -0.2
		}
	}
}

bpm_je_christian_democrat_economy_rate = {
	value = 0

	add = {
		desc = "BPM_VALUE_FROM_INCLINATION_TOWARDS_MODERATION"
		
		if = {
			limit = {
				scope:journal_entry = {
					"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" > 50
				}
			}
			add = -0.2
			multiply = var:christian_democrats_ideology_change
		}
		else_if = {
			limit = {
				scope:journal_entry = {
					"scripted_bar_progress(je_bpm_christian_democrats_economy_progress_bar)" < 50
				}
			}
			add = 0.2
			multiply = var:christian_democrats_ideology_change
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_LOW_SOL"
		if = {
			limit = {
				average_sol <= 15
				average_sol >= 10
			}
			add = total_population
			#pop_type_percent_country = {
			#	pop_type = peasants
			#	percent < 0.35
			#}
			divide = average_sol
			divide = total_population
			multiply = 2.5
		}
		else_if = {
			limit = {
				average_sol <= 15
			}
			add = total_population
			#pop_type_percent_country = {
			#	pop_type = peasants
			#	percent < 0.35
			#}
			divide = average_sol
			divide = total_population
			multiply = 1.5
		}
		else_if = {
			subtract = total_population
			#pop_type_percent_country = {
			#	pop_type = peasants
			#	percent < 0.35
			#}
			divide = average_sol
			divide = total_population
			multiply = 10
		}
	}


	add = {
		desc = "BPM_VALUE_FROM_CAPITALISTIC_LAWS"
		if = { 
			limit = {
				bpm_country_laws_are_very_capitalist = yes
			}
			if = {
				limit = {
					has_law = law_type:law_laissez_faire
				}
				add = 0.2
			}
			if = {
				limit = {
					has_law = law_type:law_free_trade
				}
				add = 0.2
			}
			if = {
				limit = {
					has_law = law_type:law_commercialized_agriculture
				}
				add = 0.2
			}
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_POWERFUL_MARKET_LIBERALS"
		every_interest_group = {
			limit = {
				bpm_ig_is_market_liberal = yes
				NOT = {
					has_ideology = ideology:ideology_nonexistent
				}
				is_powerful = yes
			}
			add = 0.2
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_NO_HOMESTEADING_LAW"
		if = {
			limit = {
				NOT = {
					has_law = law_type:law_homesteading
				}
			}
			add = 0.1
		}
		else_if	= {
			limit = {
				bpm_country_has_unfree_labor = yes
			}
			add = 0.2
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_PEASANT_POPULATION"
		value = var:bpm_peasant_population_yandev_var
		multiply = 0.04
	}

	add = {
		desc = "BPM_VALUE_FROM_POWERFUL_ANTI_CAPITALISTS"
		every_interest_group = {
			limit = {
				OR = {
					has_ideology = ideology:ideology_eco_agrarian_socialist
					has_ideology = ideology:ideology_eco_proletarian_economy
					has_ideology = ideology:ideology_eco_socialist_mixed_economy
				}
				NOT = {
					is_interest_group_type = ig_christian_democrats
  				}
				is_powerful = yes
			}
			add = -0.3
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_MARKET_WELFARE"
		if = { 
			limit = {
				bpm_country_laws_has_market_welfare = yes
			}
			if = {
				limit = {
					has_law = law_type:law_private_health_insurance
				}
				add = 0.1
			}
			if = {
				limit = {
					has_law = law_type:law_no_workers_rights
				}
				add = 0.1
			}
			if = {
				limit = {
					has_law = law_type:law_private_schools
				}
				add = 0.1
			}
			if = {
				limit = {
					has_law = law_type:law_poor_laws
				}
				add = 0.1
			}
			if = {
				limit = {
					has_law = law_type:law_child_labor_allowed
				}
				add = 0.1
			}
			else_if = {
				limit = {
					has_law = law_type:law_no_social_security
				}
				add = 0.2
			}
			if = {
				limit = {
					has_law = law_type:law_unregulated_work_time
				}
				add = 0.1
			}
			if = {
				limit = {
					has_law = law_type:law_illegal_labor_unions
				}
				add = 0.1
			}
			multiply = 0.5
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_CORPORATISM_RESEARCHED"
		if = { 
			limit = {
				has_technology_researched = corporatism
			}
			add = -0.5
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_PATERNALISM"
		every_scope_character = {
			limit = {
				OR = {
					has_role = politician
					has_role = agitator
				}
				has_ideology = ideology:ideology_corporatist_leader
			}
			add = -0.2
		}
		every_interest_group = {
			limit = {
				bpm_ig_is_paternalistic = yes
			}
			add = -0.2
		}
	}
}

je_bpm_split_christdem_progress_bar_rate = {
	value = 0

	add = {
		desc = "BPM_BASE_VALUE"
		add = 0.1
	}

	add = {
		desc = "BPM_VALUE_FROM_BEING_RELIGIOUS_MINORITY"
		
		if = {
			limit = {
				NOT = {
					country_has_state_religion = rel:catholic
				}
			}
			add = -0.2
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_STRONG_LIBERAL_MOVEMENT"

		if = {
			limit = { 
				OR = { 
					ig:ig_christian_democrats.var:bpm_movement_liberal_pressure > 0.1
					OR = {
						var:bpm_liberal_movement.political_movement_support >= 0.1
						var:bpm_liberal_movement.political_movement_radicalism >= 0.2
					}
				}
			}
			add = 20
			multiply = ig:ig_christian_democrats.var:bpm_movement_liberal_pressure
			divide = 20
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_EVOLVING_CHRISTIAN_DEMOCRATS"

		add = var:christian_democrats_ideology_change

		multiply = 0.05
		#change_variable = { name = christian_democrats_ideology_change add = 1 }
	}
}

bpm_je_christian_democrat_welfare_rate = {
	value = 0

	add = {
		desc = "BPM_VALUE_FROM_INCLINATION_TOWARDS_MODERATION"
		add = -0.1
		multiply = var:christian_democrats_ideology_change
	}


	add = {
		desc = "BPM_VALUE_FROM_MARKET_WELFARE"
		if = { 
			limit = {
				bpm_country_laws_has_market_welfare = yes
			}
			if = {
				limit = {
					has_law = law_type:law_private_health_insurance
				}
				add = 0.1
			}
			if = {
				limit = {
					has_law = law_type:law_no_workers_rights
				}
				add = 0.1
			}
			if = {
				limit = {
					has_law = law_type:law_private_schools
				}
				add = 0.1
			}
			if = {
				limit = {
					has_law = law_type:law_poor_laws
				}
				add = 0.1
			}
			if = {
				limit = {
					has_law = law_type:law_child_labor_allowed
				}
				add = 0.1
			}
			else_if = {
				limit = {
					has_law = law_type:law_no_social_security
				}
				add = 0.2
			}
			if = {
				limit = {
					has_law = law_type:law_unregulated_work_time
				}
				add = 0.1
			}
			if = {
				limit = {
					has_law = law_type:law_illegal_labor_unions
				}
				add = 0.1
			}
			multiply = 0.5
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_IG_FACTIONS"
		if = {
			limit = { 
				OR = { 
					ig:ig_christian_democrats.var:bpm_movement_labor_pressure > 0.1
					OR = {
						var:bpm_labor_movement.political_movement_support >= 0.1
						var:bpm_labor_movement.political_movement_radicalism >= 0.2
					}
				}
			}
			add = var:bpm_labor_movement.political_movement_support
			multiply = 10
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_SOCIALISM_RESEARCHED"
		if = { 
			limit = {
				has_technology_researched = labor_movement
			}
			add = 0.1
		}
		if = { 
			limit = {
				has_technology_researched = socialism
			}
			add = 0.1
		}
		if = { 
			limit = {
				has_technology_researched = anarchism
			}
			add = 0.1
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_CORPORATISM_RESEARCHED"
		if = { 
			limit = {
				has_technology_researched = corporatism
			}
			add = -1.0
		}
	}

	add = {
		desc = "BPM_VALUE_FROM_PATERNALISM"
		every_scope_character = {
			limit = {
				OR = {
					has_role = politician
					has_role = agitator
				}
				has_ideology = ideology:ideology_corporatist_leader
			}
			add = -0.2
		}
		every_interest_group = {
			limit = {
				bpm_ig_is_paternalistic = yes
			}
			add = -0.2
		}
	}
}