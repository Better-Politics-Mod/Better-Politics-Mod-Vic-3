namespace = bpm_mex_events

bpm_mex_events.1 = {
	type = country_event
	placement = root

	event_image = {
		video = "southamerica_war_civilians"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	title = bpm_mex_events.1.t
	desc = bpm_mex_events.1.d
	flavor = bpm_mex_events.1.f
	duration = 3

	dlc = dlc_bpm

	trigger = {
		NOT = { has_variable = tex_leaves_var }
		exists = c:TEX
		exists = c:MEX
		c:MEX = this
		is_at_war = no
	}

	immediate = {
		set_variable = tex_leaves_var
	}

	option = {
		name = bpm_mex_events.1.a
		custom_tooltip = {
			text = mex_seccession_tt
			change_global_variable = {
				name = bpm_mexits_var
				add = 1
			}
		}
	}
}

bpm_mex_events.2 = {
	type = country_event
	placement = root

	event_image = {
		video = "southamerica_war_civilians"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	title = bpm_mex_events.2.t
	desc = bpm_mex_events.2.d
	flavor = bpm_mex_events.2.f
	duration = 3

	dlc = dlc_bpm

	trigger = {
		NOT = { has_variable = yuc_leaves_var }
		exists = c:MEX
		c:MEX = this

		c:MEX = { owns_entire_state_region = STATE_YUCATAN } 
		s:STATE_YUCATAN = {
			radical_fraction = { value >= 0.15 }
		}
	}

	immediate = {
		set_variable = yuc_leaves_var
		
		create_country = {
            tag = YUC
            origin = c:MEX
            state = s:STATE_YUCATAN.region_state:MEX
        }

		c:YUC = {
			activate_law = law_type:law_elected_bureaucrats
			activate_law = law_type:law_census_voting
			activate_law = law_type:law_freedom_of_conscience
			activate_law = law_type:law_cultural_exclusion
			activate_law = law_type:law_presidential_republic
		}
	}

	option = {
		name = bpm_mex_events.2.a
		random_list = {
			25 = {
				trigger_event = { id = bpm_mex_events.4 days = 0 popup = yes }
			}
			75 = {
				trigger_event = { id = bpm_mex_events.3 days = 0 popup = yes }
			}
		}
	}
}

bpm_mex_events.3 = {
	type = country_event
	placement = root

	event_image = {
		video = "southamerica_war_civilians"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	title = bpm_mex_events.3.t
	desc = bpm_mex_events.3.d
	flavor = bpm_mex_events.3.f
	duration = 3

	dlc = dlc_bpm

	trigger = {

	}

	immediate = {

	}

	option = {
		name = bpm_mex_events.3.a
		create_diplomatic_play = {
			name = yucatan_revolution
			type = dp_annex_war
			escalation = 50
			target_state = s:STATE_YUCATAN.region_state:YUC
		}
	}
}

bpm_mex_events.4 = {
	type = country_event
	placement = root

	event_image = {
		video = "southamerica_war_civilians"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	title = bpm_mex_events.4.t
	desc = bpm_mex_events.4.d
	flavor = bpm_mex_events.4.f
	duration = 3

	dlc = dlc_bpm

	trigger = {

	}

	immediate = {

	}

	option = {
		name = bpm_mex_events.4.a
		default_option = yes
		trigger_event = { id = bpm_mex_events.3 days = 0 popup = yes }
	}

	option = {
		name = bpm_mex_events.4.b
		create_diplomatic_pact = {
			country = c:YUC
			type = puppet
		}
		every_interest_group = {
			limit = { bpm_ig_is_right wing = yes }
			add_modifier = {
				name = bpm_displeased
				months = short_modifier_time
			}
		}
	}
}

bpm_mex_events.5 = {
	type = country_event
	placement = root

	event_image = {
		video = "southamerica_war_civilians"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	title = bpm_mex_events.5.t
	desc = bpm_mex_events.5.d
	flavor = bpm_mex_events.5.f
	duration = 3

	dlc = dlc_bpm

	trigger = {
		NOT = { has_variable = rio_leaves_var }
		NOT = { c:MEX = { owns_entire_state_region = STATE_TEXAS } }
		s:STATE_RIO_GRANDE= {
			turmoil >= 0.2
		}
	}

	immediate = {
		set_variable = rio_leaves_var
		create_country = {
            tag = RIO
            origin = c:MEX
            state = s:STATE_RIO_GRANDE.region_state:MEX
        }
		s:STATE_TEX.region_state:MEX = { set_state_owner = c:RIO set_state_type = incorporated }
		c:RIO = {
			activate_law = law_type:law_elected_bureaucrats
			activate_law = law_type:law_census_voting
			activate_law = law_type:law_freedom_of_conscience
			activate_law = law_type:law_cultural_exclusion
			activate_law = law_type:law_presidential_republic
		}
		s:STATE_CHIHUAHUA = {
			add_claim = c:RIO
			}
		s:STATE_DURANGO = {
			add_claim = c:RIO
		}
	}

	option = {
		name = bpm_mex_events.5.a
		create_diplomatic_play = {
			name = rio_revolution
			type = dp_annex_war
			escalation = 50
			target_state = s:STATE_RIO_GRANDE.region_state:MEX
		}
	}
}

bpm_mex_events.100 = {
	type = country_event
	placement = root

	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	title = bpm_mex_events.100.t
	desc = bpm_mex_events.100.d
	flavor = bpm_mex_events.100.f
	duration = 3

	dlc = dlc_bpm

	immediate = {
		
	}

	option = { 

	}
}

bpm_mex_events.101 = {
	type = country_event
	placement = root

	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	title = bpm_mex_events.101.t
	desc = bpm_mex_events.101.d
	flavor = bpm_mex_events.101.f
	duration = 3

	dlc = dlc_bpm

	immediate = {
		
	}

	option = { 

	}
}

bpm_mex_events.102 = {
	type = country_event
	placement = root

	event_image = {
		video = "unspecific_ruler_speaking_to_people"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"
	title = bpm_mex_events.102.t
	desc = bpm_mex_events.102.d
	flavor = bpm_mex_events.102.f
	duration = 3

	dlc = dlc_bpm

	immediate = {
		
	}

	option = { 

	}
}