je_bpm_central_republic = {
    icon = "gfx/interface/icons/event_icons/te_eagle_mexico.dds"

	group = je_group_historical_content

    immediate = {
        set_global_variable = {
            name = bpm_mexits_var
            value = 0
        }
        set_global_variable = {
            name = bpm_mex_start_gdp
        }
    }

    set_bar_progress = { value = prev.global_var:bpm_mexits_var name = je_bpm_mexit_progress_bar }

    on_monthly_pulse = {
		random_events = {
			100 = 0
		}
	}

    complete = {
		NOR = {
            has_law = law_type:law_no_schools
            has_law = law_type:law_no_police
        }
        average_sol >= 9.5
	}

    on_complete = {
        trigger_event = { id = bpm_mex_events.102 popup = yes }
    }

    fail = {
        OR = {
            custom_tooltip = {
                text = bpm_mexit_fail_tt
                global_var:bpm_mexits_var > 2
            }
            has_law = law_type:law_confederated
            has_law = law_type:law_federated
            NOR = {
                has_law = law_type:law_presidential_republic
			    has_law = law_type:law_parliamentary_republic
            }
            is_subject = yes
        }
    }

    on_fail = {
        if = {
            limit = { global_var:bpm_mexits_var >= 4 }
            trigger_event = { id = bpm_mex_events.100 popup = yes }
        }
        else = {
            trigger_event = { id = bpm_mex_events.101 popup = yes }
        }
    }

    scripted_progress_bar = je_bpm_mexit_progress_bar

    should_be_pinned_by_default = yes
	
	can_revolution_inherit = no
}