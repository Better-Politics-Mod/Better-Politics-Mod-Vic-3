bpm_agenda_picker = {
    set_variable = {
        name = bpm_agenda_category_random_number
        value = {
            integer_range = {
                min = 0
                max = 100
            }
        }
    }
    set_variable = {
        name = bpm_agenda_category_weight_running_total
        value = 0
    }
    change_variable = {
        name = bpm_agenda_category_weight_running_total
        add = bpm_agenda_exploitation_category_weight_normalized
    }
    if = {
        limit = {
            var:bpm_agenda_category_random_number <= var:bpm_agenda_category_weight_running_total
            NOT = {
                has_variable = bpm_agenda_picker_ifelse_ended
            }
        }
        # do something here
        set_variable = bpm_agenda_picker_ifelse_ended
    }
}