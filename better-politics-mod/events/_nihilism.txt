namespace = nihilism

nihilism.1 = {
	type = country_event

	title = nihilism.1.t
	desc = nihilism.1.d
	flavor = nihilism.1.f

	event_image = {
		video = "votp_realist_household"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	duration = 3

	trigger = {
	 	#Triggered by journal entry
	}

	immediate = {
		if = {
			limit = {
				has_dlc_feature = voice_of_the_people_content
			}
			if = {
				limit = {
					THIS = c:RUS
					AND = {
						game_date >= 1862.1.1
						game_date <= 1882.1.1
					}
				}
				create_character = {
					first_name = Varfolomey
					last_name = Zaitsev
					culture = cu:russian
					birth_date = 1842.9.11
					is_agitator = yes 
					historical = yes
					interest_group = ig_agrarian_populists
					female = no
					ideology = ideology_atheist
					traits = {	
						firebrand
						arrogant
					}
				}
			}
			else_if = {
				limit = {
					exists = ig:ig_anarchists
					OR = {
						country_has_primary_culture = cu:north_german
						country_has_primary_culture = cu:south_german
					}
					AND = {
						game_date >= 1844.1.1
						game_date <= 1866.1.1
					}
					OR = { #So that the player always has first dibs on Stirner if they're playing a German country.
						is_player = yes
						NOT = {
							any_country = {
								OR = {
									country_has_primary_culture = cu:north_german
									country_has_primary_culture = cu:south_german
								}
								is_player = yes
							}
						}
					}
					NOT = { has_global_variable = stirner_spawn }
				}
				create_character = {
					first_name = Max
					last_name = Stirner
					   culture = cu:south_german
					birth_date = 1806.10.25
					is_agitator = yes 
					historical = yes
					interest_group = ig_anarchists
					female = no
					ideology = ideology_atheist
					dna = dna_max_striner
					traits = {	
						reserved
					}
					on_created = {
						set_variable = is_stirner_var
						set_global_variable = stirner_spawn
					}
				}
			}
			else_if = {
				limit = {
					exists = ig:ig_anarchists
					THIS = c:USA
					AND = {
						game_date >= 1876.1.1
						game_date <= 1930.1.1
					}
				}
				create_character = {
					first_name = Benjamin
					last_name = Tucker
					   culture = cu:yankee
					birth_date = 1854.4.17
					is_agitator = yes 
					historical = yes
					interest_group = ig_anarchists
					female = no
					ideology = ideology_atheist
					traits = {	
						charismatic
						persistent
					}
				}
			}
			else_if = {
				limit = {
					THIS = c:GBR
					AND = {
						game_date >= 1846.1.1
						game_date <= 1906.1.1
					}
				}
				create_character = {
					first_name = George
					last_name = Holyoake
					   culture = cu:british
					birth_date = 1817.4.13
					is_agitator = yes 
					historical = yes
					interest_group = ig_socialists
					female = no
					ideology = ideology_atheist
					traits = {	
						tactful
					}
				}
			}
			else_if = {
				limit = {
					THIS = c:JAP
					AND = {
						game_date >= 1878.1.1
						game_date <= 1908.1.1
					}
				}
				create_character = {
					first_name = Kume
					last_name = Kunitake
					   culture = cu:japanese
					birth_date = 1839.8.19
					is_agitator = yes 
					historical = yes
					interest_group = ig_liberals
					female = no
					ideology = ideology_atheist
					traits = {	
						direct
					}
				}
			}
			else = {
				create_character = {
					is_agitator = yes 
					interest_group = ig_liberals
					ideology = ideology_atheist
				}
			}
		}
		else = {
			create_character = {
				is_agitator = yes 
				interest_group = ig_radicals
				ideology = ideology_atheist
			}
		}
		
		random_scope_character = {
			limit = {
				has_role = agitator
				has_ideology = ideology:ideology_atheist
			}
			save_scope_as = nihilist_scope
			set_variable = { name = memento_mori_immunity years = 20 }
		}
	}

	option = { 
		name = nihilism.1.a
		default_option = yes
		# nihilism becomes very popular
		custom_tooltip = big_nihilism_tt
		ig:ig_liberals = {
			set_variable = {
				name = big_nihilism_var
				months = long_modifier_time
			}
		}
		custom_tooltip = {
			text = nihilism.1.tt
		}
		scope:nihilist_scope = {
			add_modifier = {
				name = popular_nihilist
			}
		}
	}

	option = { 
		name = nihilism.1.b
		# nihilism becomes a bit more popular
		custom_tooltip = nihilism_tt
		ig:ig_liberals = {
			set_variable = {
				name = nihilism_var
				days = long_modifier_time
			}
		}
		custom_tooltip = {
			text = nihilism.1.tt
		}
		scope:nihilist_scope = {
			add_modifier = {
				name = less_popular_nihilist
			}
		}
	}
	option = { 
		name = nihilism.1.c
		trigger = {
			OR = {
				has_law = law_type:law_outlawed_dissent
				has_law = law_type:law_censorship
			}
		}
		custom_tooltip = {
			text = nihilism.1.tt
		}
		scope:nihilist_scope = {
			add_modifier = {
				name = less_popular_nihilist_red
			}
		}
	}
}

#Success Event - the nihilist movement is successfully repressed.

nihilism.2 = {
	type = country_event

	title = nihilism.2.t
	desc = nihilism.2.d
	flavor = nihilism.2.f

	event_image = {
		video = "votp_cops_march"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	duration = 3

	trigger = {

	}

	immediate = {
		
	}

	option = { 
		name = nihilism.2.a
		default_option = yes
		ig:ig_liberals = {
			add_modifier = {
				name = modifier_end_of_nihilism
				months = normal_modifier_time
			}
		}
		if = {
			limit = {
				ig:ig_liberals = {
					leader = {
						has_ideology = ideology:ideology_atheist
					}
				}
			}
			create_character = {
				ig_leader = yes
				interest_group = ig_liberals
				ideology = ideology_moderate
			}
		}
		add_modifier = {
			name = modifier_end_of_nihilism_country
			months = normal_modifier_time
		}
	}

	option = { 
		name = nihilism.2.b
		default_option = yes
		ig:ig_liberals = {
			add_modifier = {
				name = modifier_end_of_nihilism
				months = normal_modifier_time
			}
		}
		if = {
			limit = {
				ig:ig_liberals = {
					leader = {
						has_ideology = ideology:ideology_atheist
					}
				}
			}
			create_character = {
				ig_leader = yes
				interest_group = ig_liberals
				ideology = ideology_moderate
			}
		}
		add_loyalists = {
			pop_type = academics
			value = large_radicals
		}
	}
}

# Timeout Event - the nihilist movement transforms into a socialist movement after splitting into oblivion, socialists emboldened.

nihilism.3 = {
	type = country_event

	title = nihilism.3.t
	desc = nihilism.3.d
	flavor = nihilism.3.f

	event_image = {
		video = "votp_agitator_speaking"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	duration = 3

	trigger = {

	}

	immediate = {
		
	}

	option = { 
		name = nihilism.3.a
		default_option = yes
		if = {
			limit = {
				has_technology_researched = socialism
			} 
			every_scope_character = {
				limit = {
					has_ideology = ideology:ideology_atheist
					scope:interest_group = {
						bpm_ig_is_radical_socialist = no
					}
				}
				set_ideology = ideology:ideology_socialist_leader
			}
		}
		else = {
			every_scope_character = {
				limit = {
					has_ideology = ideology:ideology_atheist
					scope:interest_group = {
						bpm_ig_is_radical_socialist = no
					}
				}
				set_ideology = ideology:ideology_radical
			}
		}
		add_radicals = {
			value = small_radicals
			interest_group = ig:ig_liberals
		}
		add_radicals = {
			value = small_radicals
			interest_group = ig:ig_radicals
		}
		add_radicals = {
			value = small_radicals
			interest_group = ig:ig_anarchists
		}
		add_radicals = {
			value = small_radicals
			interest_group = ig:ig_agrarian_populists
		}
		add_modifier = {
			name = modifier_active_intelligentsia
			months = normal_modifier_time
			is_decaying = yes
		}
	}
	option = { 
		name = nihilism.3.b
		if = {
			limit = {
				has_technology_researched = socialism
			} 
			every_scope_character = {
				limit = {
					has_ideology = ideology:ideology_atheist
					scope:interest_group = {
						bpm_ig_is_radical_socialist = no
					}
				}
				set_ideology = ideology:ideology_socialist_leader
			}
		}
		else = {
			every_scope_character = {
				limit = {
					has_ideology = ideology:ideology_atheist
					scope:interest_group = {
						bpm_ig_is_radical_socialist = no
					}
				}
				set_ideology = ideology:ideology_radical
			}
		}
	}
}

### Random Events ###

nihilism.4 = {  #Fathers and Sons
	type = country_event

	title = nihilism.4.t
	desc = nihilism.4.d
	flavor = nihilism.4.f

	event_image = {
		video = "middleeast_middleclass_cafe"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	duration = 3

	cooldown = { months = long_modifier_time }

	trigger = {
		ig:ig_liberals = {
			OR = {
				is_being_suppressed = yes
				ig_approval < 0
			}
		}
		any_scope_character = {
			has_role = agitator
			has_ideology = ideology:ideology_atheist
		}
	}

	immediate = {
		set_variable = {
			name = nihilism_level_one
		}
		ig:ig_liberals = {
			save_scope_as = intelligentsia_ig
		}
		random_scope_character = {
			limit = {
				has_role = agitator
				has_ideology = ideology:ideology_atheist
			}
			save_scope_as = nihilist_scope
		}
	}

	option = { 
		name = nihilism.4.a
		default_option = yes
		ig:ig_liberals = {
			add_modifier = {
				name = modifier_fathers_and_sons
				months = normal_modifier_time
			}
			add_modifier = {
				name = conservative_intelligentsia
				months = normal_modifier_time
			}
		}
		if = {
			limit = {
				ROOT = c:RUS
			}
			create_character = {
				first_name = Ivan
				last_name = Turgenev
				historical = yes
    			culture = cu:russian
				birth_date = 1818.11.9
				ig_leader = yes
				interest_group = ig_liberals
				female = no
				ideology = ideology_reformer
				traits = {
					persistent
					romantic		
				}
			}
		}
		else_if = {
			limit = {
				ROOT = c:FRA
				has_variable = orleanist_restoration_var
			}
			ig:ig_liberals = {
				leader = {
					set_ideology = ideology:ideology_orleanist
				}
			}
		}
		else_if = {
			limit = {
				ROOT = c:FRA
				has_variable = legitimist_restoration_var
			}
			ig:ig_liberals = {
				leader = {
					set_ideology = ideology:ideology_moderate
				}
			}
		}
		else_if = {
			limit = {
				ROOT = c:FRA
				has_variable = bonapartist_restoration_var
			}
			ig:ig_liberals = {
				leader = {
					set_ideology = ideology:ideology_moderate
				}
			}
		}
		else = {
			ig:ig_liberals = {
				leader = {
					set_ideology = ideology:ideology_royalist	
				}
			}
		}
		set_variable = { name = royalist_ig_leader_cooldown months = short_modifier_time }
	}

	option = { 
		name = nihilism.4.b
		ig:ig_liberals = {
			add_modifier = {
				name = modifier_fathers_and_sons_ignored
				months = normal_modifier_time
			}
		}
		scope:nihilist_scope = {
			add_modifier = {
				name = modifier_dashing_character
			}
		}
	}
}

nihilism.5 = { #University Nihilists
	type = country_event
	placement = scope:university_nihilist_affected_state

	title = nihilism.5.t
	desc = nihilism.5.d
	flavor = nihilism.5.f

	event_image = {
		video = "votp_agitators_sneaking"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_variable = nihilism_level_one
		ig:ig_liberals = {
			OR = {
				is_being_suppressed = yes
				ig_approval < 0
			}
		}
		any_scope_state = {
			has_building = building_university
		}
	}

	immediate = {
		random_scope_state = {
			limit = {
				has_building = building_university #No disassembling universities to break the game!
			}
			save_scope_as = university_nihilist_affected_state
			random_scope_building = {
				limit = {
					is_building_type = building_university
				}
				save_scope_as = university_nihilist_affected_building
			}
		}
	}

	option = { 
		name = nihilism.5.a
		default_option = yes
		ig:ig_liberals = {
			add_modifier = {
				name = modifier_interference_in_academia
				months = normal_modifier_time
			}
		}
		scope:university_nihilist_affected_state = {
			random_scope_building = {
				limit = {
					is_building_type = building_university
				}
				add_modifier = {
					name = modifier_interference_in_academia_building
					months = normal_modifier_time
				}
			}
		}
	}
	option = { 
		name = nihilism.5.b
		random_scope_state = {
			limit = {
				has_building = building_university
			}
			add_radicals_in_state = {
				strata = middle
				value = small_radicals
			}
		}
	}
}

nihilism.6 = { #Noblewoman feels snubbed by nihilist students
	type = country_event

	title = nihilism.6.t
	desc = nihilism.6.d
	flavor = nihilism.6.f

	event_image = {
		video = "europenorthamerica_london_center"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	duration = 3

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_variable = nihilism_level_one
		ig:ig_liberals = {
			OR = {
				is_being_suppressed = yes
				ig_approval < 0
			}
		}
	}

	immediate = {
		ig:ig_landowners = {
			save_scope_as = landowners_ig
		}
	}

	option = { 
		name = nihilism.6.a
		default_option = yes
		ig:ig_landowners = {
			add_modifier = {
				name = modifier_respect_enforced_pos
				months = normal_modifier_time
			}
		}
		ig:ig_liberals = {
			add_modifier = {
				name = modifier_respect_enforced_neg
				months = normal_modifier_time
			}
		}
	}
	option = { 
		name = nihilism.6.b
		ig:ig_landowners = {
			add_modifier = {
				name = modifier_respect_unenforced_neg
				months = normal_modifier_time
			}
		}
		ig:ig_liberals = {
			add_modifier = {
				name = modifier_respect_unenforced_pos
				months = normal_modifier_time
			}
		}
	}
}

nihilism.7 = { #Turmoil at universities
	type = country_event

	title = nihilism.7.t
	desc = nihilism.7.d
	flavor = nihilism.7.f

	event_image = {
		video = "votp_cops_march"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_variable = nihilism_level_one
		ig:ig_liberals = {
			OR = {
				is_being_suppressed = yes
				ig_approval < 0
			}	
		}
		any_interest_group = {
			is_marginal = no
			law_stance = {
				law = law_type:law_state_religion
				value > neutral
			}
		}
		any_scope_character = {
			has_role = agitator
			has_ideology = ideology:ideology_atheist
		}
		any_scope_state = {
			has_building = building_university
		}
	}

	immediate = {
		random_interest_group = {
			limit = {
				is_marginal = no
				law_stance = {
					law = law_type:law_state_religion
					value > neutral
				}
			}
			save_scope_as = wronged_by_nihilists_ig
		}
		random_scope_state = {
			limit = {
				has_building = building_university
			}
			save_scope_as = courtyard_chaos_affected_state
			random_scope_building = {
				limit = {
					is_building_type = building_university
				}
				save_scope_as = courtyard_chaos_affected_building
			}
		}
		random_scope_character = {
			limit = {
				has_role = agitator
				has_ideology = ideology:ideology_atheist
			}
			save_scope_as = nihilist_scope
		}
		set_variable = {
			name = nihilism_level_two
		}
	}

	option = { 
		name = nihilism.7.a
		default_option = yes
		scope:courtyard_chaos_affected_state = {
			random_scope_building = {
				limit = {
					is_building_type = building_university
				}
				add_modifier = {
					name = modifier_arresting_students_building
					months = normal_modifier_time
				}
			}
		}
		ig:ig_liberals = {
			add_modifier = {
				name = modifier_students_getting_arrested
				months = normal_modifier_time
			}
		}
	}
	option = { 
		name = nihilism.7.b
		scope:nihilist_scope = {
			add_modifier = {
				name = modifier_emboldened_nihilist_agitator
				months = normal_modifier_time
			}
		}
		scope:wronged_by_nihilists_ig = {
			add_modifier = {
				name = modifier_soft_on_blatant_heresy
				months = normal_modifier_time
			}
		}
		ROOT = {
			add_modifier = {
				name = modifier_not_arresting_students_country
				months = normal_modifier_time
			}
		}
	}
}

nihilism.8 = { #Outrageous act of protest, Devout demand repressions
	type = country_event

	title = nihilism.8.t
	desc = nihilism.8.d
	flavor = nihilism.8.f

	event_image = {
		video = "southamerica_christianity"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	duration = 3

	cooldown = { months = normal_modifier_time }

	trigger = {
		has_variable = nihilism_level_one
		ig:ig_liberals = {
			OR = {
				is_being_suppressed = yes
				ig_approval < 0
			}	
		}
	}

	immediate = {
		ig:ig_devout = {
			save_scope_as = devout_ig
		}
		set_variable = {
			name = nihilism_level_two
		}
	}

	option = { 
		name = nihilism.8.a
		default_option = yes
		ig:ig_devout = {
			add_modifier = {
				name = modifier_respect_enforced_pos
				months = normal_modifier_time
			}
		}
		random_scope_state = {
			limit = {
				has_building = building_university
			}
			add_radicals_in_state = {
				strata = middle
				value = small_radicals
			}
		}
	}
	option = { 
		name = nihilism.8.b
		ig:ig_devout = {
			add_modifier = {
				name = modifier_respect_unenforced_neg
				months = normal_modifier_time
			}
		}
		capital = {
			add_radicals_in_state = {
				strata = rich
				value = small_radicals
			}
		}
	}
}

nihilism.9 = { #Nihilists commit arson on government buildings
	type = country_event

	title = nihilism.9.t
	desc = nihilism.9.d
	flavor = nihilism.9.f

	event_image = {
		video = "unspecific_vandalized_storefront"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_fire.dds"

	duration = 3

	cooldown = { months = long_modifier_time }

	trigger = {
		has_variable = nihilism_level_two
		ig:ig_liberals = {
			OR = {
				is_being_suppressed = yes
				ig_approval < 0
			}	
		}
		any_scope_state = {
			AND = {
				has_building = building_university
				has_building = building_government_administration
			}
		}
	}

	immediate = {
		random_scope_state = {
			limit = {
				has_building = building_university
				has_building = building_government_administration
			}
			save_scope_as = kissed_by_fire_state
			random_scope_building = {
				limit = {
					is_building_type = building_government_administration
				}
				save_scope_as = kissed_by_fire_building
			}
		}
	}

	option = { 
		name = nihilism.9.a
		default_option = yes
		scope:kissed_by_fire_state = {
			random_scope_building = {
				limit = {
					is_building_type = building_government_administration
				}
				add_modifier = {
					name = modifier_fire_damaged
					months = short_modifier_time
				}
			}	
		}
		random_interest_group = {
			limit = {
				is_marginal = no
				law_stance = {
					law = law_type:law_state_religion
					value > neutral
				}
			}
			add_modifier = {
				name = modifier_punished_nihilists
				months = normal_modifier_time
			}
		}
		add_modifier = {
			name = govt_administration_burned
			months = short_modifier_time
		}
	}
	option = { 
		name = nihilism.9.b
		scope:kissed_by_fire_state = {
			add_radicals_in_state = {
				strata = middle
				value = medium_radicals
			}
			random_scope_building = {
				limit = {
					is_building_type = building_government_administration
				}
				add_modifier = {
					name = modifier_fire_damaged_conscription_building
					months = short_modifier_time
				}
			}
			random_scope_building = {
				limit = {
					is_building_type = building_university
				}
				add_modifier = {
					name = modifier_conscripted_students_building
					months = short_modifier_time
				}
			}
		}
		random_interest_group = {
			limit = {
				is_marginal = no
				law_stance = {
					law = law_type:law_state_religion
					value > neutral
				}
			}
			add_modifier = {
				name = modifier_punished_nihilists_harshly
				months = normal_modifier_time
			}
		}
		ig:ig_liberals = {
			add_modifier = {
				name = modifier_abuses_of_students
				months = normal_modifier_time
			}
		}
	}
}

nihilism.10 = { #Intellectual leader becomes a nihilist
	type = country_event

	title = nihilism.10.t
	desc = nihilism.10.d
	flavor = nihilism.10.f

	gui_window = event_window_1char_tabloid
	left_icon = scope:nihilist_leader

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_newspaper.dds"

	cooldown = { months = normal_modifier_time }

	duration = 3

	trigger = {
		has_variable = nihilism_level_two
		ig:ig_liberals = {
			OR = {
				is_being_suppressed = yes
				ig_approval < 0
			}	
			leader = {
				NOT = {
					has_ideology = ideology:ideology_atheist
				}
			}
		}
		NOT = {
			has_variable = royalist_ig_leader_cooldown
		}
	}

	immediate = {
		ig:ig_liberals = {
			save_scope_as = intelligentsia_ig
		}
		if = {
			limit = {
				THIS = c:RUS
				AND = {
					game_date >= 1858.1.1
					game_date <= 1875.1.1
				}
			}
			create_character = {
				first_name = Dmitry
				last_name = Pisarev
				historical = yes
    			culture = cu:russian
				ig_leader = yes
				birth_date = 1840.10.2
				interest_group = ig_liberals
				female = no
				ideology = ideology_atheist
				traits = {
					direct
					psychological_affliction		
				}
			}
		}
		else_if = { 
			limit = {
				OR = {
					country_has_primary_culture = cu:north_german
					country_has_primary_culture = cu:south_german
				}
				AND = {
					game_date >= 1840.1.1
					game_date <= 1882.1.1
				}
			}
			create_character = {
				first_name = Bruno
				last_name = Bauer
				historical = yes
    			culture = cu:north_german
				ig_leader = yes
				birth_date = 1809.6.9
				interest_group = ig_liberals
				female = no
				ideology = ideology_atheist
				traits = {
					direct
					persistent		
				}
			}
		}
		else_if = { 
			limit = {
				THIS = c:GBR
				AND = {
					game_date >= 1853.1.1
					game_date <= 1891.1.1
				}
			}
			create_character = {
				first_name = Charles
				last_name = Bradlaugh
				historical = yes
    			culture = cu:british
				ig_leader = yes
				birth_date = 1833.9.26
				interest_group = ig_liberals
				female = no
				ideology = ideology_atheist
				traits = {
					persistent
					ambitious		
				}
			}
		}
		else = {
			create_character = {
				ig_leader = yes
				interest_group = ig_liberals
				ideology = ideology_atheist
			}
		}
		ig:ig_liberals = { 
			leader = {
				save_scope_as = nihilist_leader
				set_variable = { name = memento_mori_immunity years = 20 }
			}
		}
	}

	option = { 
		name = nihilism.10.a
		default_option = yes
		show_as_tooltip = {
			create_character = {
				ig_leader = yes
				interest_group = ig_liberals
				ideology = ideology_atheist
			}
		}
		random_scope_state = {
			limit = {
				has_building = building_university
			}
			add_radicals_in_state = {
				strata = middle
				value = medium_radicals
			}
		}
	}

	option = { 
		name = nihilism.10.b
		show_as_tooltip = {
			create_character = {
				ig_leader = yes
				interest_group = ig_liberals
				ideology = ideology_atheist
			}
		}
		ig:ig_liberals = {
			add_modifier = {
				name = modifier_nihilists_triumphant
				months = normal_modifier_time
			}
		}
	}
}

nihilism.11 = { #Agitator fight! Nihilist agitator argues with communists about things.
	type = country_event

	title = nihilism.11.t
	desc = nihilism.11.d
	flavor = nihilism.11.f

	event_image = {
		video = "unspecific_politicians_arguing"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = long_modifier_time }

	duration = 3

	trigger = {
		has_variable = nihilism_level_two
		ig:ig_liberals = {
			OR = {
				is_being_suppressed = yes
				ig_approval < 0
			}	
			leader = {
				has_ideology = ideology:ideology_atheist
			}
		}
		any_scope_character = {
			has_role = agitator
			OR = {
				interest_group = { bpm_ig_is_socialist = yes }
				bpm_leader_is_socialist = yes
			}		
		}
		any_scope_character = {
			has_role = agitator
			has_ideology = ideology:ideology_atheist
		}
	}

	immediate = {
		random_interest_group = {
			limit = {
				any_scope_character = {
					has_role = agitator
					OR = {
						interest_group = { bpm_ig_is_socialist = yes }
						bpm_leader_is_socialist = yes
					}		
				}
			}
			set_variable = communist_ig_in_front
			save_scope_as = communist_ig
			random_scope_character = {
				limit = {
					has_role = agitator
					OR = {
						interest_group = { bpm_ig_is_socialist = yes }
						bpm_leader_is_socialist = yes
					}
				}
				save_scope_as = communist_scope
			}
		}
		random_scope_character = {
			limit = {
				has_role = agitator
				has_ideology = ideology:ideology_atheist
			}
			save_scope_as = nihilist_scope
		}	
	}

	option = { 
		name = nihilism.11.a
		default_option = yes
		scope:nihilist_scope = {
			add_modifier = {
				name = modifier_triumphant_in_forum
				months = normal_modifier_time
			}
		}
		scope:communist_scope = {
			add_modifier = {
				name = modifier_defeated_in_forum
				months = normal_modifier_time
			}
		}
	}
	option = { 
		name = nihilism.11.b
		scope:communist_scope = {
			add_modifier = {
				name = modifier_triumphant_in_forum
				months = normal_modifier_time
			}
		}
		scope:nihilist_scope = {
			add_modifier = {
				name = modifier_defeated_in_forum
				months = normal_modifier_time
			}
		}	
	}
	option = { 
		name = nihilism.11.c
		capital = {
			add_radicals_in_state = {
				strata = poor
				value = small_radicals
			}
		}
		set_variable = { name = nihilist_communist_front }
	}
}

nihilism.12 = { #Trade Unions adopt a positive view of state atheism/total separation 
	type = country_event

	title = nihilism.12.t
	desc = nihilism.12.d
	flavor = nihilism.12.f

	event_image = {
		video = "asia_union_leader"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_protest.dds"

	cooldown = { months = long_modifier_time }

	duration = 3

	trigger = {
		has_variable = nihilist_communist_front
		ig:ig_liberals = {
			OR = {
				is_being_suppressed = yes
				ig_approval < 0
			}
			leader = {
				has_ideology = ideology:ideology_atheist
			}
		}
		any_interest_group = {
			has_variable = communist_ig_in_front
			OR = {
				is_being_suppressed = yes
				ig_approval < 0
			}
		}
	}

	immediate = {
		random_interest_group = {
			limit = {
				has_variable = communist_ig_in_front
			}
			save_scope_as = communist_ig
		}
		ig:ig_liberals = {
			save_scope_as = intelligentsia_ig
		}
		ig:ig_devout = {
			save_scope_as = devout_ig
		}
	}

	option = { 
		name = nihilism.12.a
		trigger = {
			scope:communist_ig = {
				leader = {
					bpm_leader_is_socialist = yes
				}
			}
		}
		scope:communist_ig = {
			leader = {
				set_ideology = ideology:ideology_atheist
			}
			bpm_remove_all_rel_ideologies = yes
			add_ideology = ideology_rel_atheist
			add_modifier = {
				name = modifier_academic_worker_unity
				months = normal_modifier_time
			}
		}
		ig:ig_liberals = {
			add_modifier = {
				name = modifier_academic_worker_unity
				months = normal_modifier_time
			}
		}
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_state_atheism
					value < neutral
				}
			}
			add_modifier = {
				name = modifier_growing_extremist_movement
				months = normal_modifier_time
			}
		}
	}
	option = { 
		name = nihilism.12.b
		default_option = yes
		scope:communist_ig = {
			bpm_remove_all_rel_ideologies = yes
			add_ideology = ideology_rel_atheist
			add_modifier = {
				name = modifier_trade_union_conflicts
				months = normal_modifier_time
			}
		}
		random_scope_state = {
			limit = {
				has_building = building_university #No disassembling universities to break the game!
			}
			add_radicals_in_state = {
				strata = poor
				value = medium_radicals
			}
		}
		random_scope_state = {
			limit = {
				has_building = building_university
			}
			add_radicals_in_state = {
				strata = middle
				value = medium_radicals
			}
		}
	}
}

### Law Auto-Pass Event ###

nihilism.13 = { #Instant law pass for abolishing state religion/instituting atheism
	type = country_event

	title = nihilism.13.t
	desc = nihilism.13.d
	flavor = nihilism.13.f

	event_image = {
		video = "votp_cops_march"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"

	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	duration = 3

	trigger = {
		has_journal_entry = je_nihilist_movement
		OR = {
			has_law = law_type:law_state_religion
		}
		OR = {
			is_enacting_law = law_type:law_state_atheism
			is_enacting_law = law_type:law_total_separation
		}
		any_interest_group = {
			is_in_government = yes
			leader = {
				has_ideology = ideology:ideology_atheist
			}
		}
		NOT = {
			has_modifier = nihilism_averted
		}
	}

	immediate = {
		ig:ig_devout = {
			save_scope_as = devout_ig
		}
		currently_enacting_law = {
			save_scope_as = current_law_scope
		}
	}

	option = {
		name = nihilism.13.a
		ai_chance = {
			base = 50
			modifier = {
				trigger = {
					is_enacting_law = law_type:law_state_atheism
					any_interest_group = {
						law_stance = {
							law = law_type:law_state_atheism
							value < neutral
						}
						is_powerful = yes
					}
				}
				add = -25
			}
			modifier = {
				trigger = {
					is_enacting_law = law_type:law_total_separation
					any_interest_group = {
						law_stance = {
							law = law_type:law_total_separation
							value < neutral
						}
						is_powerful = yes
					}
				}
				add = -25
			}
		}
		if = {
			limit = {
				is_enacting_law = law_type:law_state_atheism
			}
			activate_law = law_type:state_atheism
		}
		if = {
			limit = {
				is_enacting_law = law_type:law_total_separation
			}
			activate_law = law_type:law_total_separation
		}
		# anyone not a fan of this gets VERY angry
		every_interest_group = {
			limit = {
				law_stance = {
					law = law_type:law_state_religion
					value > neutral
				}
				NOT = { is_interest_group_type = ig_devout }
			}
			add_modifier = {
				name = nihilism_triumph
				months = normal_modifier_time
			}
		}

		ig:ig_devout = {
			add_modifier = {
				name = modifier_deicide
				months = long_modifier_time
			}
		}
	}
	option = {
		name = nihilism.13.b
		default_option = yes
		ai_chance = {
			base = 50
		}
		# gain success chance, lose enactment time
		add_enactment_modifier = {
			name = nihilism_averted
		}
	}
}
